;/*FB_PKG_DELIM*/

__d("IGDMessageMoreContextMenuButton.react",["fbt","IGDMessageButton.react","IGDSLazyPopoverTrigger.react","IGDSMoreVerticalPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("requireDeferred")("IGDMessageContextMenu.react").__setRef("IGDMessageMoreContextMenuButton.react");function m(t){var n,a=o("react-compiler-runtime").c(30),l=t.isMessageHidden,u=t.message,m=t.onMessageUnhide,p=t.outgoing,_=t.thread,f=(e||(e=r("useReStore")))(),g;a[0]!==f.tables.contacts||a[1]!==u.senderId?(g=function(){return o("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(u.senderId)},a[0]=f.tables.contacts,a[1]=u.senderId,a[2]=g):g=a[2];var h;a[3]!==f||a[4]!==u.senderId?(h=[f,u.senderId],a[3]=f,a[4]=u.senderId,a[5]=h):h=a[5];var y=o("ReQLSuspense").useFirst(g,h,i.id+":57"),C=(n=y==null?void 0:y.name)!=null?n:y==null?void 0:y.secondaryName,b;a[6]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"Mais"),a[6]=b):b=a[6];var v=b,S;a[7]!==C?(S=s._(/*BTDS*/"Veja mais op\u00e7\u00f5es de mensagem de {sender name}",[s._param("sender name",C)]),a[7]=C,a[8]=S):S=a[8];var R=S,L=r("MessengerWebUXLogger").useInteractionLogger(),E=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),k;a[9]!==E||a[10]!==L||a[11]!==u.messageId?(k=function(t){L==null||L({eventName:"open_message_options",extraData:{message_id:u.messageId},flowInstanceId:E}),t()},a[9]=E,a[10]=L,a[11]=u.messageId,a[12]=k):k=a[12];var I;a[13]!==E||a[14]!==L||a[15]!==u.messageId||a[16]!==_?(I=[L,_,u.messageId,E],a[13]=E,a[14]=L,a[15]=u.messageId,a[16]=_,a[17]=I):I=a[17];var T=o("Int64Hooks").useCallbackInt64(k,I),D=p?"end":"start",x;a[18]!==l||a[19]!==u||a[20]!==m||a[21]!==_?(x={isMessageHidden:l,message:u,onMessageUnhide:m,thread:_},a[18]=l,a[19]=u,a[20]=m,a[21]=_,a[22]=x):x=a[22];var $;a[23]!==R||a[24]!==T?($=function(t,n){return c.jsx(r("IGDMessageButton.react"),{innerRef:t,label:v,onClick:function(){return T(n)},children:c.jsx(r("IGDSMoreVerticalPanoOutline24Icon.react"),{alt:R,color:"ig-primary-text","data-testid":void 0,size:16})})},a[23]=R,a[24]=T,a[25]=$):$=a[25];var P;return a[26]!==D||a[27]!==x||a[28]!==$?(P=c.jsx(r("IGDSLazyPopoverTrigger.react"),{align:D,popoverProps:x,popoverResource:d,popoverType:"menu",position:"above",children:$}),a[26]=D,a[27]=x,a[28]=$,a[29]=P):P=a[29],P}l.default=m}),226);
__d("LSSubmitGenAIBotFeedback",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return r[0]=new t.Map,r[0].set("bot_feedback_kind",e[0]),r[0].set("bot_response_id",e[2]),r[0].set("feedback_kind_type",e[0]),r[0].set("bot_id",e[3]),r[0].set("message_id",e[4]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"submit_gen_ai_bot_feedback",t.i64.cast([0,756]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))},function(n){return t.db.table(315).fetch([[[e[2]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[2]=t.i64.cast([0,0]):(n=a.item,r[2]=n.feedbackSubmissionStatus)})},function(n){return t.i64.eq(r[2],t.i64.cast([0,0]))?t.db.table(315).add({botResponseId:e[2],feedbackSubmissionStatus:t.i64.cast([0,1]),feedbackKindType:e[0]}):t.forEach(t.db.table(315).fetch([[[e[2]]]]),function(n){var r=n.update,o=n.item;return r({feedbackSubmissionStatus:t.i64.cast([0,1]),feedbackKindType:e[0]})})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxSubmitGenAIBotFeedbackStoredProcedure",e.__tables__=["ai_bot_feedback_submission_status"],a.exports=e}),null);
__d("LSSubmitGenAIBotFeedbackStoredProcedure",["LSSubmitGenAIBotFeedback","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSubmitGenAIBotFeedback"),a.botFeedbackKind,a.feedbackKindType,a.botResponseId,a.botId,a.messageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("useMWV2SubmitFeedbackAction",["LSFactory","LSIntEnum","LSSubmitGenAIBotFeedbackStoredProcedure","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(t,n,a,l){var u=(e||(e=r("useReStore")))();return c(function(e){r("promiseDone")(u.runInTransaction(function(n){return r("LSSubmitGenAIBotFeedbackStoredProcedure")(r("LSFactory")(n),{botFeedbackKind:(s||(s=o("LSIntEnum"))).ofNumber(e),botId:a,botResponseId:t||"",feedbackKindType:s.ofNumber(e),messageId:l})},"readwrite",void 0,void 0,i.id+":33"),n)},[u,t,a,l,n])}l.default=d}),98);
__d("IGDMessageNegativeFeedbackButton.react",["fbt","IGDMessageButton.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(11),n=e.message,a=r("useIGDSToaster")(),i;t[0]!==a?(i=function(){a.add({message:s._(/*BTDS*/"Feedback enviado"),target:"bottom-left"})},t[0]=a,t[1]=i):i=t[1];var l=i,c=r("useMWV2SubmitFeedbackAction")(n.botResponseId,l),d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=r("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("IGDMessageNegativeFeedbackButton.react"),t[2]=d):d=t[2];var p=r("useIGDSLazyDialog")(d,m),_=p[0],f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Resposta ruim"),t[3]=f):f=t[3];var g=f,h;t[4]!==n||t[5]!==c||t[6]!==_?(h=function(){_({message:n,onSubmit:c},r("emptyFunction"))},t[4]=n,t[5]=c,t[6]=_,t[7]=h):h=t[7];var y=h,C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx(r("IGDSThumbDownPanoOutline24Icon.react"),{alt:g,color:"ig-primary-text",size:16}),t[8]=C):C=t[8];var b;return t[9]!==y?(b=u.jsx(r("IGDMessageButton.react"),{"data-testid":void 0,label:g,onClick:y,children:C}),t[9]=y,t[10]=b):b=t[10],b}function m(e){return u.jsx(r("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:e,size:"large"})}m.displayName=m.name+" [from "+i.id+"]",l.default=d}),226);
__d("IGDMessagePositiveFeedbackButton.react",["fbt","BotFeedbackKind","IGDMessageButton.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(e){var t,n=o("react-compiler-runtime").c(15),a=e.message,i=r("useIGDSToaster")(),l;n[0]!==i?(l=function(){i.add({message:s._(/*BTDS*/"Feedback enviado"),target:"bottom-left"})},n[0]=i,n[1]=l):l=n[1];var c=l,d=r("useMWV2SubmitFeedbackAction")(a.botResponseId,c),m=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p=(t=a.botResponseId)!=null?t:"",_;n[2]!==p?(_={botResponseId:p},n[2]=p,n[3]=_):_=n[3];var f;n[4]!==m||n[5]!==_?(f={extraData:_,flowInstanceId:m},n[4]=m,n[5]=_,n[6]=f):f=n[6];var g=f,h=r("MessengerWebUXLogger").useInteractionLogger(),y;n[7]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Resposta boa"),n[7]=y):y=n[7];var C=y,b;n[8]!==g||n[9]!==h||n[10]!==d?(b=function(){d(r("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),h==null||h(babelHelpers.extends({eventName:"submit_positive_feedback"},g))},n[8]=g,n[9]=h,n[10]=d,n[11]=b):b=n[11];var v=b,S;n[12]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(r("IGDSThumbUpPanoOutline24Icon.react"),{alt:C,color:"ig-primary-text",size:16}),n[12]=S):S=n[12];var R;return n[13]!==v?(R=u.jsx(r("IGDMessageButton.react"),{"data-testid":void 0,label:C,onClick:v,children:S}),n[13]=v,n[14]=R):R=n[14],R}l.default=p}),226);
__d("MWV2MessageReactionHooks",["EmojiRenderer","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return e.map(function(e,t){var n=o("EmojiRenderer").parse(e).map(function(e){return e.emoji});return n.length!==1?"":n[0].join("")}).filter(function(e){return e!==""})}function c(e,t){var n=(s||(s=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return t!=null&&e!=null?o("ReQL").fromTableAscending(n.tables.reactions).getKeyRange(t,e,a):o("ReQL").empty()},[a,n,e,t],i.id+":38");if(l!=null)return l}function d(t,n){var a=(s||(s=r("useReStore")))(),l=o("ReQLSuspense").useArray(function(){return n!=null&&t!=null?o("ReQL").fromTableAscending(a.tables.reactions_v2).getKeyRange(n,t).filter(function(t){return t.viewerIsReactor&&(e||(e=o("I64"))).gt(t.count,(e||(e=o("I64"))).zero)}).map(function(e){var t=o("ReQLSuspense").first(o("ReQL").fromTableAscending(a.tables.reaction_v2_types).getKeyRange(e.reactionFbid),i.id+":70");return[t==null?void 0:t.reactionLiteral,t==null?void 0:t.reactionLiteralVariant16].filter(Boolean)}):o("ReQL").empty()},[a,n,t],i.id+":60").flat(),c=u(l);return c}function m(e,t){var n=(s||(s=r("useReStore")))(),a=o("ReQLSuspense").useFirst(function(){return t!=null&&e!=null?o("ReQL").fromTableAscending(n.tables.reactions_v2).getKeyRange(t,e).filter(function(e){return e.viewerIsReactor}):o("ReQL").empty()},[n,e,t],i.id+":94");return o("ReQLSuspense").useFirst(function(){return a?o("ReQL").fromTableAscending(n.tables.reaction_v2_types).getKeyRange(a.reactionFbid).map(function(e){return e.reactionLiteral}):o("ReQL").empty()},[n,a],i.id+":104")}var p={useSelectedReaction:c,useSelectedReactionsV2:d,useSelectedReactionV2:m};l.MWV2MessageReactionHooks=p}),98);
__d("IGDMessageReactionButton.react",["fbt","EmojiFormat.bs","IGDMessageReactionTrayButtonLazyLoadPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MWV2MessageReactionHooks","MessengerWebUXLogger","ReQL","ReQLSuspense","UnicodeUtils","emptyFunction","promiseDone","react","react-compiler-runtime","useIGDGlobalReactMessage","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var n,a,l=o("react-compiler-runtime").c(29),c=t.message,m=t.outgoing,p=t.setReactionsMenuOpen,_=(e||(e=r("useReStore")))(),f;l[0]!==_.tables.contacts||l[1]!==c.senderId?(f=function(){return o("ReQL").fromTableAscending(_.tables.contacts).getKeyRange(c.senderId)},l[0]=_.tables.contacts,l[1]=c.senderId,l[2]=f):f=l[2];var g;l[3]!==_||l[4]!==c.senderId?(g=[_,c.senderId],l[3]=_,l[4]=c.senderId,l[5]=g):g=l[5];var h=o("ReQLSuspense").useFirst(f,g,i.id+":43"),y=o("MWLSThread").useThread(c.threadKey),C=(n=h==null?void 0:h.name)!=null?n:h==null?void 0:h.secondaryName,b=(a=o("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(c.messageId,c.threadKey))==null?void 0:a.reaction,v=r("useIGDGlobalReactMessage")(c,"reaction_tray"),S;l[6]!==b||l[7]!==v?(S=function(t){var e=o("EmojiFormat.bs").codeArrayToUnicode(t);if(b!=null){var n=(u||(u=o("UnicodeUtils"))).getCodePoints(b);e===b&&(e=void 0),n[0]===10084&&t[0]===10084&&(e=void 0)}r("promiseDone")(v(e,"reaction"))},l[6]=b,l[7]=v,l[8]=S):S=l[8];var R=S,L=m?"end":"start",E;l[9]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Reagir"),l[9]=E):E=l[9];var k=E,I=r("MessengerWebUXLogger").useInteractionLogger(),T=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),D,x;l[10]!==T||l[11]!==I||l[12]!==c.messageId||l[13]!==y?(D=function(t){t(),y&&(I==null||I({eventName:"reaction_open_emoji_picker",extraData:{message_id:c.messageId},flowInstanceId:T}))},x=[y,I,c.messageId,T],l[10]=T,l[11]=I,l[12]=c.messageId,l[13]=y,l[14]=D,l[15]=x):(D=l[14],x=l[15]);var $=o("Int64Hooks").useCallbackInt64(D,x),P;l[16]!==C?(P=s._(/*BTDS*/"Envie um uma rea\u00e7\u00e3o \u00e0 mensagem de {sender name}",[s._param("sender name",C)]),l[16]=C,l[17]=P):P=l[17];var N=P,M;l[18]!==p?(M=function(t){return p(function(){return t})},l[18]=p,l[19]=M):M=l[19];var w=M,A=L,F;l[20]!==b?(F=b!=null?(u||(u=o("UnicodeUtils"))).getCodePoints(b):null,l[20]=b,l[21]=F):F=l[21];var O;return l[22]!==$||l[23]!==R||l[24]!==w||l[25]!==N||l[26]!==F||l[27]!==A?(O=d.jsx(r("IGDMessageReactionTrayButtonLazyLoadPopoverTrigger.react"),{align:A,altLabel:N,label:k,onClickAction:$,onClose:r("emptyFunction"),onSelect:R,onVisibilityChange:w,selectedReaction:F}),l[22]=$,l[23]=R,l[24]=w,l[25]=N,l[26]=F,l[27]=A,l[28]=O):O=l[28],O}l.default=p}),226);
__d("useIGDMessageReply.react",["fbt","IGDThreadListNewMessageLoggingDataContext","MWMediaManager","MWPReplyContext.react","MessengerWebUXLogger","react","react-compiler-runtime","useIGDMediaMangerUploadFailedToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useContext;function c(e,t,n){var a=o("react-compiler-runtime").c(13),i=u(o("MWPReplyContext.react").MWPReplyContext),l=i.setReply,c=r("useIGDMediaMangerUploadFailedToast")(),d;a[0]!==c||a[1]!==t?(d={showUploadFailureToast:c,thread:t},a[0]=c,a[1]=t,a[2]=d):d=a[2];var m=o("MWMediaManager").useMediaManager(d),p=m.resetAttachments,_=r("MessengerWebUXLogger").useInteractionLogger(),f=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),g;a[3]!==f||a[4]!==_||a[5]!==e||a[6]!==n||a[7]!==p||a[8]!==l?(g=function(r){_==null||_({eventName:"message_reply",extraData:{},flowInstanceId:f}),l({isReported:e.takedownState!=null,messageId:e.messageId,offlineThreadingId:e.offlineThreadingId,sendStatusV2:e.sendStatusV2,text:e.text,threadKey:e.threadKey,timestampMs:e.timestampMs},e.threadKey),p(),n==null||n()},a[3]=f,a[4]=_,a[5]=e,a[6]=n,a[7]=p,a[8]=l,a[9]=g):g=a[9];var h=g,y;a[10]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Responder"),a[10]=y):y=a[10];var C=y,b;return a[11]!==h?(b=[h,C],a[11]=h,a[12]=b):b=a[12],b}l.default=c}),226);
__d("IGDMessageReplyButton.react",["fbt","IGDInstamadilloUtils","IGDMessageButton.react","IGDSReplyPanoOutline24Icon.react","InstagramODS","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","useIGDMessageReply.react","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n,a=o("react-compiler-runtime").c(17),l=t.message,u=t.onClose,d=t.thread,m=(e||(e=r("useReStore")))(),p;a[0]!==m.tables.contacts||a[1]!==l.senderId?(p=function(){return o("ReQL").fromTableAscending(m.tables.contacts).getKeyRange(l.senderId)},a[0]=m.tables.contacts,a[1]=l.senderId,a[2]=p):p=a[2];var _;a[3]!==m||a[4]!==l.senderId?(_=[m,l.senderId],a[3]=m,a[4]=l.senderId,a[5]=_):_=a[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":45"),g=(n=f==null?void 0:f.name)!=null?n:f==null?void 0:f.secondaryName,h=r("useIGDMessageReply.react")(l,d,u),y=h[0],C=h[1],b;a[6]!==g?(b=s._(/*BTDS*/"Responda \u00e0 mensagem de {sender name}",[s._param("sender name",g)]),a[6]=g,a[7]=b):b=a[7];var v=b,S=o("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(d),R=r("MessengerWebUXLogger").useImpressionLogger(),L;a[8]!==R?(L={onImpressionStart:function(){R==null||R({eventName:"message_reply"}),r("InstagramODS").incr("web.igd.message_list.reply_button.impression")}},a[8]=R,a[9]=L):L=a[9];var E=r("useSinglePartialViewImpression")(L);if(!o("IGDInstamadilloUtils").shouldRenderMessageReply(l,S))return null;var k;a[10]!==v?(k=c.jsx(r("IGDSReplyPanoOutline24Icon.react"),{alt:v,color:"ig-primary-text","data-testid":void 0,size:16}),a[10]=v,a[11]=k):k=a[11];var I;return a[12]!==E||a[13]!==y||a[14]!==C||a[15]!==k?(I=c.jsx(r("IGDMessageButton.react"),{innerRef:E,label:C,onClick:y,children:k}),a[12]=E,a[13]=y,a[14]=C,a[15]=k,a[16]=I):I=a[16],I}l.default=d}),226);
__d("LSMailboxAIBotFeedbackSubmissionStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,SUBMITTED:1});i.default=e}),66);
__d("useGenAIFeedbackSubmissionStatus",["I64","LSIntEnum","LSMailboxAIBotFeedbackSubmissionStatus","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=(u||(u=r("useReStore")))(),a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(n.tables.ai_bot_feedback_submission_status).getKeyRange(t!=null?t:"").filter(function(t){return(e||(e=o("I64"))).equal(t.feedbackSubmissionStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxAIBotFeedbackSubmissionStatus").SUBMITTED))}).map(function(e){return e.feedbackSubmissionStatus})},[n,t],i.id+":25");return a}l.default=c}),98);
__d("useIGDIsCannesThread.react",["I64","LSContactReachabilityStatusType","LSIntEnum","react-compiler-runtime","useContactReachabilityStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=o("react-compiler-runtime").c(2),i=o("useContactReachabilityStatus").useContactReachabilityStatus(t,n),l;a[0]!==i?(l=i!=null&&((e||(e=o("I64"))).equal(i,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactReachabilityStatusType").UNREACHABLE_R_ACCOUNT_TEEN_INTERACTION))||(e||(e=o("I64"))).equal(i,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactReachabilityStatusType").UNREACHABLE_R_ACCOUNT_PREDICTED_TEEN_INTERACTION))),a[0]=i,a[1]=l):l=a[1];var u=l;return u}l.default=u}),98);
__d("useIGDIsGenAiReelsPlugin",["I64","LSIntEnum","MNLSXMALayoutType","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(10),a=(u||(u=r("useReStore")))(),l;n[0]!==a.tables.attachments||n[1]!==t.messageId||n[2]!==t.threadKey?(l=function(){return o("ReQL").fromTableDescending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId)},n[0]=a.tables.attachments,n[1]=t.messageId,n[2]=t.threadKey,n[3]=l):l=n[3];var c;n[4]!==a||n[5]!==t?(c=[a,t],n[4]=a,n[5]=t,n[6]=c):c=n[6];var d=o("ReQLSuspense").useFirst(l,c,i.id+":24");if(t.botResponseId==null||d==null)return!1;var m;return n[7]!==d.hasXma||n[8]!==d.xmaLayoutType?(m=d.hasXma&&d.xmaLayoutType!=null&&(e||(e=o("I64"))).equal(d.xmaLayoutType,(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").PORTRAIT)),n[7]=d.hasXma,n[8]=d.xmaLayoutType,n[9]=m):m=n[9],m}l.default=c}),98);
__d("useIGDMessageAttachment",["I64","LSIntEnum","MessagingAttachmentType","ReQL","ReQLSuspense","mwpMessageHasAttachment","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){var a=o("react-compiler-runtime").c(15),l;a[0]!==t?(l=r("mwpMessageHasAttachment")(t),a[0]=t,a[1]=l):l=a[1];var s=l,u,d;a[2]!==e.tables.attachments||a[3]!==s||a[4]!==t.messageId||a[5]!==n?(u=function(){return s?o("ReQL").fromTableAscending(e.tables.attachments,["attachmentType","isSharable","stickerType","xmaLayoutType"]).getKeyRange(n,t.messageId):o("ReQL").empty()},d=[s,e.tables.attachments,n,t.messageId],a[2]=e.tables.attachments,a[3]=s,a[4]=t.messageId,a[5]=n,a[6]=u,a[7]=d):(u=a[6],d=a[7]);var m=o("ReQLSuspense").useArray(u,d,i.id+":43"),p=m[0],_=m.length>1,f;a[8]!==m||a[9]!==_?(f=_&&m.some(c),a[8]=m,a[9]=_,a[10]=f):f=a[10];var g=f,h;return a[11]!==p||a[12]!==_||a[13]!==g?(h={attachment:p,hasMultipleAttachments:_,isVideoStack:g},a[11]=p,a[12]=_,a[13]=g,a[14]=h):h=a[14],h}function c(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))}l.default=u}),98);
__d("useIsGenAiFeedbackEnabled",["I64","LSContactTypeExact","LSIntEnum","MWPContactContext.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=o("MWPContactContext.react").useMWPContactStableContext(),i=a.contact;return t==null||!n?!1:i!=null&&(e||(e=o("I64"))).equal(i.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT))}l.default=u}),98);
__d("isDeliveryStatusErrorState",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.type==="Error"||e.type==="RetriableError"}i.default=e}),66);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageDeliveryStatus","MWPThreadCapabilitiesContext","isDeliveryStatusErrorState"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),a=n.canUnsendMessage;if(r("isDeliveryStatusErrorState")(o("MWMessageDeliveryStatus").getFromSendStatus(t.sendStatusV2)))return!1;var i=t.cannotUnsendReason!=null?(e||(e=o("I64"))).equal(t.cannotUnsendReason,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;return a&&i}l.default=u}),98);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var l=(e||(e=r("useReStore")))(),s=r("useIsGenAiFeedbackEnabled")(n,a),u=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(l.tables.messages.index("threadKeyPrimarySortKeySecondarySortKeyBotResponseId"),["botResponseId"]).getKeyRange(t)},[l,t],i.id+":43"),c=r("useGenAIFeedbackSubmissionStatus")(n);return s&&(u==null?void 0:u.botResponseId)===n&&c==null}l.default=s}),98);
__d("IGDMessageRowActions.react",["I64","IGDInstamadilloUtils","IGDMessageMoreContextMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWPActor.react","MWPBaseMessageListRowActions.react","MessagingAttachmentType","PolarisUA","ReQL","ReQLSuspense","cr:3505","cr:3552","gkx","react","react-compiler-runtime","useGenAIFeedbackSubmissionStatus","useIGDIsCannesThread.react","useIGDIsGenAiReelsPlugin","useIGDMessageAttachment","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore","useShowPersistentGenAIFeedbackButtons"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useContext,_=m.useState,f=r("gkx")("4253")===!0,g=[(c||(c=o("LSIntEnum"))).ofNumber(1),c.ofNumber(16384),c.ofNumber(2),c.ofNumber(4)];function h(t){var a=o("react-compiler-runtime").c(100),l=t.isMessageHidden,s=t.message,m=t.onMessageUnhide,p=t.outgoing,_=t.setReactionsMenuOpen,h=t.thread,y=(e||(e=r("useReStore")))(),C=o("MWPActor.react").useActor(),b=r("useIsThreadBlocked")(),v=r("useIsReadOnlyFeatureLimited")(),S=h.threadKey,R=h.threadType,L=s.displayedContentTypes,E=s.senderId,k;a[0]!==y.tables.contacts||a[1]!==E?(k=function(){return o("ReQL").fromTableAscending(y.tables.contacts,["blockedByViewerStatus"].concat(o("LSContactBitOffset").contactCapabilityFields)).getKeyRange(E)},a[0]=y.tables.contacts,a[1]=E,a[2]=k):k=a[2];var I;a[3]!==y||a[4]!==E?(I=[y,E],a[3]=y,a[4]=E,a[5]=I):I=a[5];var T=o("ReQLSuspense").useFirst(k,I,i.id+":101"),D=r("useIGDMessageAttachment")(y,s,S),x=D.attachment,$=D.hasMultipleAttachments,P=r("useIGDIsCannesThread.react")(S,R),N;a[6]!==C||a[7]!==E?(N=(u||(u=o("I64"))).equal(E,C),a[6]=C,a[7]=E,a[8]=N):N=a[8];var M=N,w;a[9]!==T||a[10]!==M||a[11]!==R?(w=!M&&o("LSMessagingThreadTypeUtil").isOneToOne(R)&&T!=null?!(u||(u=o("I64"))).equal(T.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,a[9]=T,a[10]=M,a[11]=R,a[12]=w):w=a[12];var A=w,F;a[13]!==T?(F=T!=null&&o("LSContactBitOffset").has(66,T),a[13]=T,a[14]=F):F=a[14];var O=F,B;a[15]!==T?(B=T!=null&&o("LSContactBitOffset").has(18,T),a[15]=T,a[16]=B):B=a[16];var W=B,q;a[17]!==h?(q=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(h),a[17]=h,a[18]=q):q=a[18];var U=q,V;a[19]!==L||a[20]!==M||a[21]!==W?(V=W&&!M&&g.findIndex(function(e){return(u||(u=o("I64"))).equal(L,e)})!==-1,a[19]=L,a[20]=M,a[21]=W,a[22]=V):V=a[22];var H=V,G;a[23]!==x?(G=x!=null&&((u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))),a[23]=x,a[24]=G):G=a[24];var z=G,j;a[25]!==x?(j=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)),a[25]=x,a[26]=j):j=a[26];var K=j,Q;a[27]!==x?(Q=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)),a[27]=x,a[28]=Q):Q=a[28];var X=Q,Y;a[29]!==L||a[30]!==z?(Y=(u||(u=o("I64"))).equal(L,o("LSBitFlag").empty)&&!z,a[29]=L,a[30]=z,a[31]=Y):Y=a[31];var J=Y,Z=r("useMWPCanRemoveMessageGlobally")(s)&&M,ee;a[32]!==x?(ee=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?x.isSharable:!0,a[32]=x,a[33]=ee):ee=a[33];var te=ee,ne;a[34]!==s.replySourceTypeV2?(ne=s.replySourceTypeV2!=null&&(c||(c=o("LSIntEnum"))).toNumber(s.replySourceTypeV2)===r("LSMessageReplySourceTypeV2").FORWARD,a[34]=s.replySourceTypeV2,a[35]=ne):ne=a[35];var re=ne,oe;a[36]!==L?(oe=(u||(u=o("I64"))).equal(L,(c||(c=o("LSIntEnum"))).ofNumber(1))||(u||(u=o("I64"))).equal(L,(c||(c=o("LSIntEnum"))).ofNumber(1033)),a[36]=L,a[37]=oe):oe=a[37];var ae=oe,ie=!l&&(ae||re&&!!s.text),le;a[38]!==$||a[39]!==X||a[40]!==K||a[41]!==b||a[42]!==z||a[43]!==l||a[44]!==U||a[45]!==J||a[46]!==A||a[47]!==v||a[48]!==O||a[49]!==te||a[50]!==s.displayedContentTypes||a[51]!==s.isUnsent||a[52]!==h?(le=!l&&!b&&!O&&!U&&!v&&!s.isUnsent&&!J&&o("LSThreadBitOffset").has(103,h)&&te&&!A&&!(u||(u=o("I64"))).equal(s.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(256))&&!z&&!K&&!X&&!$,a[38]=$,a[39]=X,a[40]=K,a[41]=b,a[42]=z,a[43]=l,a[44]=U,a[45]=J,a[46]=A,a[47]=v,a[48]=O,a[49]=te,a[50]=s.displayedContentTypes,a[51]=s.isUnsent,a[52]=h,a[53]=le):le=a[53];var se=le,ue=r("useIsGenAiFeedbackEnabled")(s.botResponseId,f),ce=r("useGenAIFeedbackSubmissionStatus")(s.botResponseId),de=ue&&ce==null,me;a[54]!==de?(me=!o("PolarisUA").isMobile()&&de,a[54]=de,a[55]=me):me=a[55];var pe=me,_e;a[56]!==s||a[57]!==pe?(_e=pe&&n("cr:3552")?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:d.jsx(n("cr:3552"),{message:s})}):null,a[56]=s,a[57]=pe,a[58]=_e):_e=a[58];var fe=_e,ge;a[59]!==s||a[60]!==pe?(ge=pe&&n("cr:3505")?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:d.jsx(n("cr:3505"),{message:s})}):null,a[59]=s,a[60]=pe,a[61]=ge):ge=a[61];var he=ge,ye;a[62]!==b||a[63]!==P||a[64]!==l||a[65]!==U||a[66]!==J||a[67]!==v||a[68]!==O||a[69]!==s.isUnsent||a[70]!==pe||a[71]!==h?(ye=!l&&!b&&!O&&!U&&!v&&o("LSThreadBitOffset").has(42,h)&&!s.isUnsent&&!J&&!pe&&!P,a[62]=b,a[63]=P,a[64]=l,a[65]=U,a[66]=J,a[67]=v,a[68]=O,a[69]=s.isUnsent,a[70]=pe,a[71]=h,a[72]=ye):ye=a[72];var Ce=ye,be;a[73]!==h?(be=o("LSThreadBitOffset").has(18,h),a[73]=h,a[74]=be):be=a[74];var ve=be,Se=o("LSThreadBitOffset").has(139,h),Re;a[75]!==h?(Re=o("LSThreadBitOffset").has(169,h),a[75]=h,a[76]=Re):Re=a[76];var Le=Re,Ee=!l&&!b&&!O&&!U&&!v&&!s.isUnsent&&!J&&(Se?Le:ve)&&!pe&&!P,ke=r("gkx")("24015"),Ie=ke||!J&&(se||Z||ie||H),Te;a[77]!==Ee||a[78]!==s||a[79]!==p||a[80]!==_?(Te=Ee?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageReactionButton.react"),{message:s,outgoing:p,setReactionsMenuOpen:_})}):null,a[77]=Ee,a[78]=s,a[79]=p,a[80]=_,a[81]=Te):Te=a[81];var De=Te,xe;a[82]!==Ce||a[83]!==s||a[84]!==h?(xe=Ce?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageReplyButton.react"),{message:s,thread:h})}):null,a[82]=Ce,a[83]=s,a[84]=h,a[85]=xe):xe=a[85];var $e=xe,Pe;a[86]!==l||a[87]!==s||a[88]!==m||a[89]!==p||a[90]!==Ie||a[91]!==h?(Pe=Ie?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageMoreContextMenuButton.react"),{isMessageHidden:l,message:s,onMessageUnhide:m,outgoing:p,thread:h})}):null,a[86]=l,a[87]=s,a[88]=m,a[89]=p,a[90]=Ie,a[91]=h,a[92]=Pe):Pe=a[92];var Ne=Pe,Me;return a[93]!==Ne||a[94]!==he||a[95]!==p||a[96]!==fe||a[97]!==De||a[98]!==$e?(Me=d.jsxs(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:p,children:[fe,he,De,$e,Ne]}),a[93]=Ne,a[94]=he,a[95]=p,a[96]=fe,a[97]=De,a[98]=$e,a[99]=Me):Me=a[99],Me}function y(e){var t=o("react-compiler-runtime").c(17),n=e.ariaHidden,a=e.focused,i=e.hidden,l=e.hovered,s=e.isMessageHidden,u=e.message,c=e.onMessageUnhide,m=e.outgoing,f=e.thread,g=n===void 0?!1:n,y=i===void 0?!1:i,C=_(!1),b=C[0],v=C[1],S=r("useIsGenAiFeedbackEnabled")(u.botResponseId,r("gkx")("4253")===!0),R=r("useGenAIFeedbackSubmissionStatus")(u.botResponseId),L=r("useIGDIsGenAiReelsPlugin")(u),E=r("useShowPersistentGenAIFeedbackButtons")(u.threadKey,u.botResponseId,r("gkx")("4253")===!0),k;t[0]!==R||t[1]!==S||t[2]!==L||t[3]!==E?(k=L?!1:o("PolarisUA").isMobile()?S&&R==null:E,t[0]=R,t[1]=S,t[2]=L,t[3]=E,t[4]=k):k=t[4];var I=k,T=l||a||b,D=p(o("MAWEditMessageContext.react").Context),x=D.editMessageData,$=x!=null,P=!y&&(T||I)&&!$,N=T===!0?"full":"partial",M;t[5]!==s||t[6]!==u||t[7]!==c||t[8]!==m||t[9]!==P||t[10]!==f?(M=P?d.jsx(h,{isMessageHidden:s,message:u,onMessageUnhide:c,outgoing:m,setReactionsMenuOpen:v,thread:f}):null,t[5]=s,t[6]=u,t[7]=c,t[8]=m,t[9]=P,t[10]=f,t[11]=M):M=t[11];var w;return t[12]!==g||t[13]!==m||t[14]!==N||t[15]!==M?(w=d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:g,outgoing:m,visibility:N,children:M}),t[12]=g,t[13]=m,t[14]=N,t[15]=M,t[16]=w):w=t[16],w}function C(t){var n=o("react-compiler-runtime").c(19),a=t.ariaHidden,l=t.focused,s=t.hidden,u=t.hovered,c=t.isMessageHidden,m=t.message,p=t.onMessageUnhide,_=t.outgoing,f=a===void 0?!1:a,g=s===void 0?!1:s,h=(e||(e=r("useReStore")))(),C;n[0]!==h.tables.threads||n[1]!==m.threadKey?(C=function(){return o("ReQL").fromTableAscending(h.tables.threads,["parentThreadKey","threadKey","threadSubtype","cannotUnsendReason","consistentThreadFbid","threadType"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(m.threadKey)},n[0]=h.tables.threads,n[1]=m.threadKey,n[2]=C):C=n[2];var b;n[3]!==h||n[4]!==m.threadKey?(b=[h,m.threadKey],n[3]=h,n[4]=m.threadKey,n[5]=b):b=n[5];var v=o("ReQLSuspense").useFirst(C,b,i.id+":445"),S;n[6]!==m?(S=o("IGDInstamadilloUtils").canMutateIGDMessage(m),n[6]=m,n[7]=S):S=n[7];var R=S,L;return n[8]!==f||n[9]!==R||n[10]!==l||n[11]!==g||n[12]!==u||n[13]!==c||n[14]!==m||n[15]!==p||n[16]!==_||n[17]!==v?(L=v!=null&&R?d.jsx(y,{ariaHidden:f,focused:l,hidden:g,hovered:u,isMessageHidden:c,message:m,onMessageUnhide:p,outgoing:_,thread:v}):null,n[8]=f,n[9]=R,n[10]=l,n[11]=g,n[12]=u,n[13]=c,n[14]=m,n[15]=p,n[16]=_,n[17]=v,n[18]=L):L=n[18],L}l.default=C}),98);