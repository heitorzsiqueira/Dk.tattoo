;/*FB_PKG_DELIM*/

__d("LynxGeneration",["LinkshimHandlerConfig","URI"],(function(t,n,r,o,a,i,l){var e,s=new(e||(e=r("URI")))(r("LinkshimHandlerConfig").linkshim_path).setDomain(r("LinkshimHandlerConfig").linkshim_host),u={getShimURI:function(){return new(e||(e=r("URI")))(s)},getLynxURIProtocol:function(t){return r("LinkshimHandlerConfig").always_use_https?"https":t.getProtocol()==="http"?"http":"https"},getShimmedHref:function(n,o,a){var t,i=new(e||(e=r("URI")))(n),l=u.getLynxURIProtocol(i),s=u.getShimURI().setQueryData((t={},t[r("LinkshimHandlerConfig").linkshim_url_param]=i.toString(),t[r("LinkshimHandlerConfig").linkshim_enc_param]=o,t)).setProtocol(l),c=a==null?void 0:a.trackingNodes,d=a==null?void 0:a.callbacks;return c&&c.length&&(s=s.addQueryData("__tn__",c.join(""))),d&&d.length&&(s=s.addQueryData("c",d)),s}},c=u;l.default=c}),98);
__d("AbstractLink.react",["LynxGeneration","NonFBLinkReferrerProtector","cr:4655","isTruthy","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["dataLnfbMode","href","isLinkshimSupported","isSafeToSkipShim","linkRef","nofollow","noreferrer","rel","shimhash"],s,u=s||(s=o("react")),c=(function(t){function a(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.componentDidMount=function(){this.props.dataLnfbMode!==null?o("NonFBLinkReferrerProtector").setupDelegation():this.props.isLinkshimSupported&&n("cr:4655").setupDelegation()},i.render=function(){var t=this.props,o=t.dataLnfbMode,a=t.href,i=t.isLinkshimSupported,l=t.isSafeToSkipShim,s=t.linkRef,c=t.nofollow,d=t.noreferrer,m=t.rel,p=t.shimhash,_=babelHelpers.objectWithoutPropertiesLoose(t,e),f=a,g=m,h=null,y=null,C=null;if(p!==null){f=r("LynxGeneration").getShimmedHref(a,p||"");var b=n("cr:4655").getMode(l);y=b[0],h=b[1]}return c&&(g=r("isTruthy")(g)?g+" nofollow":"nofollow"),d&&(g=r("isTruthy")(g)?g+" noreferrer":"noreferrer"),r("isTruthy")(o)&&(C=o),u.jsx("a",babelHelpers.extends({},_,{href:f.toString()||null,rel:g,ref:s,"data-sigil":h,"data-lynx-mode":y,"data-lnfb-mode":C}))},a})(u.Component);l.default=c}),98);
__d("BaseFileSelector.react",["FBLogger","Promise","promiseDone","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useRef;function _(e){return e.map(function(e){return e.indexOf("/")!==-1||e[0]==="."?e:(r("FBLogger")("comet_ui").mustfix('Accept parameter "%s" for BaseFileSelector is being interpreted as a file extension since it has no slash (/), but file extensions must start with a period (.)',e),"."+e)}).join(",")}function f(t){var o=t.accept,a=t.children,i=t.multiple,l=i===void 0?!1:i,s=t.onFilesSelected,c=p(null);m(function(){var e=c.current;if(e!=null){var t=function(t){t.stopPropagation()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}},void 0);var f=d(function(){c.current!=null&&c.current.click()},[]),g=d(function(t){var o=s(t.currentTarget.files);o instanceof(e||(e=n("Promise")))&&r("promiseDone")(o),t.currentTarget.value=""},[s]);return u.jsxs(u.Fragment,{children:[u.jsx("input",{accept:o!=null?_(o):void 0,className:"x1s85apg",multiple:l,onChange:g,ref:c,type:"file"}),a(f)]})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("BasePopoverDownEdgeArrow.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({"aria-hidden":!0,height:12,viewBox:"0 0 21 12",width:21},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M21 0c-2.229.424-4.593 2.034-6.496 3.523L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V0h21Z"})]}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("BasePopoverDownInsetArrow.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({"aria-hidden":!0,height:12,viewBox:"0 0 25 12",width:25},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M24.453.001c-2.791.32-5.922 1.53-7.78 3.455l-9.62 7.023c-2.45 2.54-5.78 1.645-5.78-2.487V1.983C1.273 1.089.746.32 0 0h24.453v.001Z"})]}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("BasePopoverRightEdgeArrow.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({"aria-hidden":!0,height:21,viewBox:"0 0 12 21",width:12},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12Z",transform:"rotate(-90 10.498 10.488)"})]}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("BasePopoverRightInsetArrow.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({"aria-hidden":!0,height:25,viewBox:"0 0 12 25",width:12},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M24.553.103c-2.791.32-5.922 1.53-7.78 3.455l-9.62 7.023c-2.45 2.54-5.78 1.645-5.78-2.487V2.085C1.373 1.19.846.422.1.102z",transform:"rotate(-90 12.5 12.48)"})]}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("BasePopoverSVGArrowContainer.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BasePopoverDownEdgeArrow.svg.react","BasePopoverDownInsetArrow.svg.react","BasePopoverReflowSheetContext","BasePopoverRightEdgeArrow.svg.react","BasePopoverRightInsetArrow.svg.react","Locale","react","stylex","testID"],(function(t,n,r,o,a,i,l){"use strict";var e=["arrowHorizontalPositionOffset","arrowVerticalPositionOffset","downEdgeArrowSvg","downInsetArrowSvg","ref","rightEdgeArrowSvg","rightInsetArrowSvg","arrowAlignment","arrowFill","children","testid","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo,_=3,f=o("Locale").isRTL(),g=25,h={arrow:{filter:"xem7dle",position:"x10l6tqk",$$css:!0},container:{position:"x1n2onr6",$$css:!0}},y={above:{marginBottom:"x1fqp7bg",$$css:!0},below:{marginTop:"xcxhlts",$$css:!0},end:{marginInlineStart:"xx6jrq6",$$css:!0},start:{marginInlineEnd:"xjx09e3",$$css:!0}},C={above:{top:"x11k2h6o",$$css:!0},below:{bottom:"xng853d",$$css:!0},end:{insetInlineEnd:"xzn28fx",left:null,right:null,$$css:!0},start:{insetInlineStart:"x1exbynx",left:null,right:null,$$css:!0}},b={end:{insetInlineEnd:"xetw22u",left:null,right:null,$$css:!0},middle:{insetInlineStart:"x211tc3",left:null,right:null,$$css:!0},start:{insetInlineStart:"x1a6xf5x",left:null,right:null,$$css:!0},stretch:{$$css:!0}},v={end:{bottom:"x1ey2m1c",$$css:!0},middle:{top:"x18g6o9x",$$css:!0},start:{top:"x13vifvy",$$css:!0},stretch:{$$css:!0}};function S(e,t,n){var r=n-_;return e?f&&t==="start"||!f&&t==="end"?r*-1:r:t==="end"||t==="middle"?r*-1:r}function R(e){var t=e.arrowAlignment,n=e.contextSize,r=e.layerAdjustment,o=e.popoverAlign,a=e.popoverPosition,i=r!==0&&o!=="middle"?-r:0,l=a==="below"||a==="above";if(t!=="edge"&&n!=null){var s=l?n.width:n.height,u=s>0?s/2:0;u!==0&&(i+=S(l,o,o==="middle"?g/2:u))}return i===0?{}:{transform:l?"translateX("+i+"px)":"translateY("+i+"px)"}}function L(e,t,n,r,o,a){return e==="above"||e==="below"?t==="middle"?o:a:t==="middle"?n:r}function E(t){var n,o=t.arrowHorizontalPositionOffset,a=o===void 0?0:o,i=t.arrowVerticalPositionOffset,l=i===void 0?-1:i,u=t.downEdgeArrowSvg,d=u===void 0?r("BasePopoverDownEdgeArrow.svg.react"):u,_=t.downInsetArrowSvg,g=_===void 0?r("BasePopoverDownInsetArrow.svg.react"):_,S=t.ref,E=t.rightEdgeArrowSvg,k=E===void 0?r("BasePopoverRightEdgeArrow.svg.react"):E,I=t.rightInsetArrowSvg,T=I===void 0?r("BasePopoverRightInsetArrow.svg.react"):I,D=t.arrowAlignment,x=D===void 0?"center":D,$=t.arrowFill,P=t.children,N=t.testid,M=t.xstyle,w=babelHelpers.objectWithoutPropertiesLoose(t,e),A=m(r("BaseContextualLayerOrientationContext")),F=A.align,O=A.position,B=m(r("BaseContextualLayerContextSizeContext")),W=L(O,F,T,k,g,d),q=(n=m(r("BaseContextualLayerLayerAdjustmentContext")))!=null?n:0,U=p(function(){var e=f?"start":"end",t=f?"end":"start",n=F==="end"&&!f||F==="start"&&f,r=F==="middle"?-q:0,o=1,a=1,i=0,l=0;switch(O){case"above":i+=r,n&&(o=-1);break;case"below":i+=r,a=-1,n&&(o=-1);break;case t:l+=r,F==="start"&&(a=-1);break;case e:l+=r,o=-1,F==="start"&&(a=-1);break}return{arrowStyle:{transform:"scale("+o+", "+a+") translate("+i+"px, "+l+"px)"},containerStyle:R({arrowAlignment:x,contextSize:B,layerAdjustment:q,popoverAlign:F,popoverPosition:O})}},[F,x,B,q,O]),V=U.arrowStyle,H=U.containerStyle,G=m(r("BasePopoverReflowSheetContext")),z=G.isReflowSheet;return c.jsxs("div",babelHelpers.extends({},w,{className:(s||(s=r("stylex")))(h.container,y[O],M),ref:S,style:z?null:H},r("testID")(N),{children:[P,c.jsx(W,{className:s(h.arrow,C[O],(O==="start"||O==="end")&&v[F],(O==="above"||O==="below")&&b[F]),fill:"var(--card-background)",style:V})]}))}E.displayName=E.name+" [from "+i.id+"]",l.default=E}),98);
__d("useBaseProgressRingSvg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useMemo,d=u.useRef,m=2;function p(e){var t=e.backgroundColor,n=e.foregroundColor,r=e.isHidden,o=e.size,a=d(null),i=d(null),l=d(null),u=(o-m)*Math.PI,p=c(function(){return s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy",height:o,ref:a,viewBox:"0 0 "+o+" "+o,width:o,children:s.jsx("circle",{cx:o/2,cy:o/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(o-m)/2,stroke:t,strokeLinecap:"round",strokeWidth:m})}),s.jsx("div",{className:"x1ey2m1c xtijo5x xbudbmw x6ikm8r x10wlt62 x10l6tqk x13vifvy",children:s.jsx("svg",{className:"x1ey2m1c x9f619 xtijo5x xyj9dbu x10l6tqk x13vifvy x1jpgh95",height:o,ref:i,viewBox:"0 0 "+o+" "+o,width:o,children:s.jsx("circle",{cx:o/2,cy:o/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(o-m)/2,stroke:n,strokeDasharray:u/2,strokeDashoffset:3*u/4,strokeWidth:m,style:{visibility:r?"hidden":void 0}})})}),s.jsx("div",{className:"x1ey2m1c x1dkd41z x1o0tod x6ikm8r x10wlt62 x10l6tqk x13vifvy",children:s.jsx("svg",{className:"x1ey2m1c x9f619 x1h4o2ik x1o0tod x10l6tqk x13vifvy x1jpgh95",height:o,ref:l,viewBox:"0 0 "+o+" "+o,width:o,children:s.jsx("circle",{cx:o/2,cy:o/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(o-m)/2,stroke:n,strokeDasharray:u/2,strokeDashoffset:u/4,strokeWidth:m,style:{visibility:r?"hidden":void 0}})})})]})},[o,t,n,u,r]);return{backgroundRef:a,leftCircleRef:l,progressRing:p,rightCircleRef:i}}l.default=p}),98);
__d("BaseProgressRing.react",["BaseLoadingStateElement.react","FBLogger","FDSProgressRingUtils","performanceNavigationStart","react","useBaseProgressRingSvg.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useLayoutEffect,p=u.useRef,_=u.useState,f={rootDiv:{position:"x1n2onr6",$$css:!0},rootSizing:function(t,n){return[{height:n!=null?"x16ye13r":n,width:t!=null?"x5lhr3w":t,$$css:!0},{"--x-height":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}},g=o("FDSProgressRingUtils").getCubicBezierPercentageFunc(.45,0,.25,.85);function h(e){var t=e["aria-label"],n=e["aria-labelledby"],o=e.backgroundColor,a=e.beginningPercentage,i=e.duration,l=e.explicitStartTime,u=e.foregroundColor,h=e.onComplete,b=e.pause,v=e.percentage,S=e.size,R=e.type;R!=="default"&&v!=null&&r("FBLogger")("comet_ui").mustfix("percentage should only be applied to default type");var L=p(null),E=p(null),k=_(!0),I=k[0],T=k[1],D=y(R,v,a),x=D.completedPercentage,$=D.finalPercentage,P=D.startPercentage,N=p(P),M=p($),w=p(x),A=r("useBaseProgressRingSvg.react")({backgroundColor:o,foregroundColor:u,isHidden:I,size:S}),F=A.backgroundRef,O=A.leftCircleRef,B=A.progressRing,W=A.rightCircleRef,q=c(function(e){var t=W.current,n=O.current;if(!(t==null||n==null)&&!(!(t instanceof SVGSVGElement)||!(n instanceof SVGSVGElement))&&!((R==="default"||R==="count-down")&&b===!0)){if(E.current==null&&(E.current=l!=null?l-r("performanceNavigationStart")():e),R==="estimated")if(w.current>75)w.current+=.3*Math.pow((100-w.current)/50,2);else{var o=(e-E.current)/i/1e3,a=g(o);w.current=a*75}else if(R==="default"&&w.current<M.current){var s=(e-E.current)/1e3/i*100;w.current=Math.min(s,100)}else if(R==="count-down"&&w.current>M.current){var u=(e-E.current)/1e3/i*100;w.current=N.current-u,w.current=Math.max(w.current,0)}var c=Math.max(0,Math.min(100,w.current))/100*360;t.style.transform="rotate("+Math.min(c,180)+"deg)",n.style.transform="rotate("+Math.max(c-180,0)+"deg)",C(R,w.current,v)?(window.cancelAnimationFrame(L.current),t.style.opacity="0",n.style.opacity="0",E.current=null,L.current=null,F.current instanceof SVGSVGElement&&(F.current.style.opacity="0"),h&&h()):L.current=window.requestAnimationFrame(q)}},[F,i,l,O,h,b,v,W,R]);return m(function(){I&&T(!I)},[I]),d(function(){if(window.requestAnimationFrame!=null)return L.current=window.requestAnimationFrame(q),function(){L.current!=null&&(E.current=null,window.cancelAnimationFrame(L.current),L.current=null)}},[S,q]),s.jsx(r("BaseLoadingStateElement.react"),{"aria-label":t,"aria-labelledby":n,xstyle:[f.rootDiv,f.rootSizing(S,S)],children:B})}h.displayName=h.name+" [from "+i.id+"]";function y(e,t,n){switch(e){case"default":return{completedPercentage:n!=null?n:0,finalPercentage:t!=null?t:100,startPercentage:n!=null?n:0};case"count-down":return{completedPercentage:100,finalPercentage:0,startPercentage:100};case"estimated":return{completedPercentage:0,finalPercentage:75,startPercentage:0};default:return{completedPercentage:0,finalPercentage:0,startPercentage:0}}}function C(e,t,n){return e==="count-down"?t<=0||t>100:t>=(n!=null?n:100)}l.default=h}),98);
__d("ChatGeminiDisplayContextProvider.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=s.createContext({displaySurface:"inbox"});function p(e){var t=e.children,n=e.displaySurface,r=e.sideChatMainMessage,o=e.sideChatMainMessageId,a=d(function(){return{displaySurface:n,sideChatMainMessage:r,sideChatMainMessageId:o}},[n,r,o]);return s.jsx(m.Provider,{value:a,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(){return c(m)}l.ChatGeminiDisplayContextProvider=p,l.useChatGeminiDisplayContext=_}),98);
__d("ClickIDParameterUtils",["URI","filterNulls","first","isCdnURI","isClickIDBlacklistSVDomainURI","isClickIDBlocklistSVUrlPath","isFacebookSVDomainURI","isFacebookURI","isFbDotComURI"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Set(["http","https"]);function c(e){return u.has(e.getProtocol())}var d="fbclid",m="brid",p="doubleclick.net",_=(e={},e[p]=[{extractor:function(t){var e=t.getQueryString();return e!=null&&e.startsWith("http")?new(s||(s=r("URI")))(e):null},injector:function(t,n,r){var e=n.addQueryData(d,r);return t.setQueryString(e.toString())}}],e);function f(e){var t=e.getProtocol(),n=e.getDomain(),r=e.getPort();return t!=null&&t.length>0||n!=null&&n.length>0||r!=null}function g(e){var t=r("first")(Object.keys(_).filter(function(t){return e.getDomain().endsWith(t)})),n=t!=null?_[t]:null;return n==null?null:r("first")(r("filterNulls")(n.map(function(t){var n=t.extractor(e);return n==null?null:{injector:t.injector,uri:n}})))}function h(e){return!r("isFacebookURI")(e)&&!r("isFacebookSVDomainURI")(e)&&!r("isCdnURI")(e)&&!r("isFbDotComURI")(e)&&f(e)&&c(e)&&!y(e)}function y(e){var t=r("isClickIDBlacklistSVDomainURI")(e),n=r("isClickIDBlocklistSVUrlPath")(e);if(t||n)return!0;var o=g(e);return o!=null?y(o.uri):!1}function C(e,t){var n=g(e);return n!=null?n.injector(e,n.uri,t):e.addQueryData(d,t)}function b(e,t){return h(e)?C(e,t):e}function v(e,t){var n=g(e);return n!=null?n.injector(e,n.uri,t):e.addQueryData(m,t)}function S(e,t){return h(e)?v(e,t):e}l.FBCLID_QUERY_PARAM=d,l.BRID_QUERY_PARAM=m,l.appendClickIDQueryParam=b,l.appendBRIDQueryParam=S}),98);
__d("useCometThemeConfig.react",["CometStyleXSheet"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{dark:o("CometStyleXSheet").DARK_MODE_CLASS_NAME,light:o("CometStyleXSheet").LIGHT_MODE_CLASS_NAME,type:"CLASSNAMES"}}l.default=e}),98);
__d("CometTheme.react",["BaseTheme.react","XPlatReactEnvironment","react","useCometThemeConfig.react","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","theme","vrGlassEffectEnabled","xstyle"],s,u=s||(s=o("react")),c=o("XPlatReactEnvironment").isWeb()?{root:{boxSizing:"x1afcbsf",position:"x1uhb9sk",zIndex:"x1swf91x",$$css:!0}}:{root:{boxSizing:"x1afcbsf",position:"x1uhb9sk",$$css:!0}};function d(t){var n=t.ref,o=t.theme,a=t.vrGlassEffectEnabled,i=t.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s=r("useCometThemeConfig.react")(a),d=r("useCurrentDisplayMode")(),m=o==="invert"?d==="dark"?"light":"dark":o!=null?o:d;return u.jsx(r("BaseTheme.react"),babelHelpers.extends({config:s,displayMode:m,ref:n,xstyle:[c.root,i]},l))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("DisappearingMessagesMode",[],(function(t,n,r,o,a,i){var e=Object.freeze({OFF:0,ON:1,OPEN_ON_DEPRECATED_DO_NOT_USE:2});i.default=e}),66);
__d("FDSPopoverContainerPaddingContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!0);l.default=u}),98);
__d("FDSPopoverContainer.react",["BaseContextualLayerOrientationContext","FDSPopoverContainerPaddingContext","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={padding:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},root:{backgroundColor:"xezm23g",borderTopColor:"xwtykhg",borderInlineEndColor:"x1lcr5pl",borderBottomColor:"x1sa2p9j",borderInlineStartColor:"x1py5zv9",borderStartStartRadius:"xw5cjc7",borderStartEndRadius:"x1dmpuos",borderEndEndRadius:"x1vsv7so",borderEndStartRadius:"xau1kf4",borderTopStyle:"x18runqf",borderInlineEndStyle:"x1w7qqtc",borderBottomStyle:"xgfcmlh",borderInlineStartStyle:"x174in1k",borderTopWidth:"x4ruge8",borderInlineEndWidth:"xel12sy",borderBottomWidth:"x8ro2h5",borderInlineStartWidth:"xd3bsdi",boxShadow:"x8ii3r7",boxSizing:"x9f619",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},d={end:{borderEndEndRadius:"x16uus16",$$css:!0},middle:{$$css:!0},start:{borderEndStartRadius:"xbiv7yw",$$css:!0},stretch:{$$css:!0}},m={end:{borderStartEndRadius:"x1ga7v0g",$$css:!0},middle:{$$css:!0},start:{borderStartStartRadius:"x15mokao",$$css:!0},stretch:{$$css:!0}},p={end:{borderEndEndRadius:"x16uus16",$$css:!0},middle:{$$css:!0},start:{borderStartEndRadius:"x1ga7v0g",$$css:!0},stretch:{$$css:!0}},_={end:{borderEndStartRadius:"xbiv7yw",$$css:!0},middle:{$$css:!0},start:{borderStartStartRadius:"x15mokao",$$css:!0},stretch:{$$css:!0}};function f(e,t){switch(e){case"above":return d[t];case"below":return m[t];case"end":return _[t];case"start":return p[t]}}function g(e){var t=e.children,n=e.ref,a=e.withArrow,i=e.xstyle,l=u(r("BaseContextualLayerOrientationContext")),d=l.align,m=l.position,p=u(r("FDSPopoverContainerPaddingContext"));return s.jsx(o("react-strict-dom").html.div,{ref:n,style:[c.root,p&&c.padding,a===!0&&f(m,d),i],children:t})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("FDSPopover.react",["BasePopover.react","BasePopoverSVGArrowContainer.react","FDSPopoverContainer.react","FDSPopoverContainerPaddingContext","react","useCometDisplayTimingTrackerForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","animatedPopover","aria-describedby","aria-label","aria-labelledby","children","popoverName","withArrow"],s,u=s||(s=o("react")),c={popoverWithArrow:{filter:"xe5xk9h",$$css:!0}};function d(t){var n=t.ref,o=t.animatedPopover,a=t["aria-describedby"],i=t["aria-label"],l=t["aria-labelledby"],s=t.children,d=t.popoverName,m=t.withArrow,p=m===void 0?!1:m,_=babelHelpers.objectWithoutPropertiesLoose(t,e),f=r("useCometDisplayTimingTrackerForInteraction")(d);return u.jsx(r("BasePopover.react"),babelHelpers.extends({},_,{"aria-describedby":a,"aria-label":i!=null?i:void 0,"aria-labelledby":l,arrowImpl:p?r("BasePopoverSVGArrowContainer.react"):void 0,ref:n,xstyle:p&&c.popoverWithArrow,children:u.jsx(r("FDSPopoverContainerPaddingContext").Provider,{value:!1,children:u.jsx(r("FDSPopoverContainer.react"),{ref:f,withArrow:p,children:s})})}))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("FDSPopoverLoadingStateContent.react",["FDSProgressRingIndeterminate.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xnnlda6",justifyContent:"xl56j7k",minWidth:"x18ip3f8",width:"xh8yej3",$$css:!0}};function c(e){var t=e.xstyle;return s.jsx(o("react-strict-dom").html.div,{style:[u.root,t],children:s.jsx(r("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("FDSPopoverLoadingState.react",["fbt","BasePopoverReflowSheetContext","FDSPopover.react","FDSPopoverLoadingStateContent.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["withArrow","xstyle"],u,c=u||(u=o("react")),d=u.useContext;function m(t){var n=t.withArrow,o=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=d(r("BasePopoverReflowSheetContext")),l=i.isReflowSheet;return c.jsx(r("FDSPopover.react"),babelHelpers.extends({"aria-label":s._(/*BTDS*/"Carregando..."),withArrow:l?!1:n},a,{children:c.jsx(r("FDSPopoverLoadingStateContent.react"),{xstyle:o})}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("FDSProgressRing.react",["BaseProgressRing.react","FDSProgressRingUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.beginningPercentage,n=e.color,a=e.duration,i=e.explicitStartTime,l=e.onComplete,u=e.pause,c=e.percentage,d=e.size,m=e.type,p=e["aria-label"],_=e["aria-labelledby"],f=o("FDSProgressRingUtils").getRingColor(n),g=f.backgroundColor,h=f.foregroundColor;return s.jsx(r("BaseProgressRing.react"),{"aria-label":p,"aria-labelledby":_,backgroundColor:g,beginningPercentage:t,duration:a,explicitStartTime:i,foregroundColor:h,onComplete:l,pause:u,percentage:c,size:d,type:m})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("FDSTextWebUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==null?void 0:e==="tertiary"?"tertiary":e}function l(e){return e==null?void 0:e==="tertiary"?"tertiary":e}function s(e){return e==null?void 0:e==="tertiary"?"tertiary":e}i.getFDSBodyColor=e,i.getFDSHeadlineColor=l,i.getFDSMetaColor=s}),66);
__d("IGDBroadcastChannelLoggerUtils",["MWCMThreadTypes.react","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t;return(t=o("MWLSThread").useThread(e,s))!=null?t:!1}function s(e){return e.threadSubtype!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(e.threadSubtype)}l.useIsIGBroadcastChannelWithThreadKey=e}),98);
__d("IGDBroadcastChannelQPL",["IGDBroadcastChannelLoggerUtils","Int64Hooks","MWCMThreadTypes.react","MWLSThread","QuickPerformanceLogger","promiseDone","qpl","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(e){return e!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(e)}function d(t){var n=c(t);n&&(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(814359412,"630"))}function m(t){t&&(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814359412,"630"),4)}function p(t){t&&(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814359412,"630"),2)}function _(e){var t=o("react-compiler-runtime").c(4),n=r("useAsyncReStore")(),a,i;return t[0]!==n||t[1]!==e?(a=function(){r("promiseDone")(n.then(function(t){return o("MWLSThread").getThreadAsync(t,e)}).then(f))},i=[n,e],t[0]=n,t[1]=e,t[2]=a,t[3]=i):(a=t[2],i=t[3]),o("Int64Hooks").useCallbackInt64(a,i)}function f(e){return g(e==null?void 0:e.threadSubtype)}function g(t){var n=t?o("MWCMThreadTypes.react").isIGBroadcastChannelThread(t):!1;n&&(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814359412,"630"),3)}function h(){(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(814362935,"1027"))}function y(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814362935,"1027"),4)}function C(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814362935,"1027"),2)}function b(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814362935,"1027"),3)}function v(){(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(814363394,"201"))}function S(){v(),(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(814363394,"201"),"from_new_message_dialog")}function R(){v(),(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(814363394,"201"),"from_channel_folder_null_state")}function L(){(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(814363394,"201"),"on_click_get_started_in_education_qp")}function E(){(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(814363394,"201"),"on_click_create_broadcast_channel")}function k(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814363394,"201"),4)}function I(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814363394,"201"),2)}function T(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814363394,"201"),3)}function D(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=$;return t?n:x}function x(){}function $(){(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(814360935,"1847"))}function P(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=M;return t?n:N}function N(){}function M(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814360935,"1847"),4)}function w(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=F;return t?n:A}function A(){}function F(){(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(814360935,"1847"),"on_click_edit_broadcast_channel")}function O(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=W;return t?n:B}function B(){}function W(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814360935,"1847"),3)}function q(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=V;return t?n:U}function U(){}function V(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814360935,"1847"),2)}function H(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=z;return t?n:G}function G(){}function z(){(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(814362024,"1850"))}function j(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=Q;return t?n:K}function K(){}function Q(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814362024,"1850"),4)}function X(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=J;return t?n:Y}function Y(){}function J(){(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(814362024,"1850"),"on_click_create_poll")}function Z(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=te;return t?n:ee}function ee(){}function te(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814362024,"1850"),2)}function ne(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=oe;return t?n:re}function re(){}function oe(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814362024,"1850"),3)}function ae(e,t){var n=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),r=t==="xma_poll_details_button",a=le;return n&&r?a:ie}function ie(){}function le(){(e||(e=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(814353989,"1851"))}function se(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=ce;return t?n:ue}function ue(){}function ce(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814353989,"1851"),4)}function de(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=pe;return t?n:me}function me(){}function pe(t,n){var o={bool:{is_new_poll_option_added:t,is_vote_casted:n}};(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(r("qpl")._(814353989,"1851"),o),e.markerPoint(r("qpl")._(814353989,"1851"),"on_click_update_poll")}function _e(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=ge;return t?n:fe}function fe(){}function ge(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814353989,"1851"),3)}function he(e){var t=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(e),n=Ce;return t?n:ye}function ye(){}function Ce(){(e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(814353989,"1851"),2)}l.logDeleteChannelStart=d,l.logDeleteChannelCancel=m,l.logDeleteChannelSuccess=p,l.useLogDeleteChannelFail=_,l.logDeleteChannelFail=g,l.logEndChannelStart=h,l.logEndChannelCancel=y,l.logEndChannelSuccess=C,l.logEndChannelFail=b,l.logCreateChannelStartFromNewMessageDialog=S,l.logCreateChannelStartFromChannelFolderNullState=R,l.logCreateChannelClickThroughEducationQP=L,l.logCreateChannelOnCreateClick=E,l.logCreateChannelCancel=k,l.logCreateChannelSuccess=I,l.logCreateChannelFail=T,l.useLogEditChannelStart=D,l.useLogEditChannelCancel=P,l.useLogEditChannelConfirm=w,l.useLogEditChannelFail=O,l.useLogEditChannelSuccess=q,l.useLogCreatePollStart=H,l.useLogCreatePollCancel=j,l.useLogOnCreatePollConfirmClick=X,l.useLogCreatePollSuccess=Z,l.useLogCreatePollFail=ne,l.useLogUpdatePollStart=ae,l.useLogUpdatePollCancel=se,l.useLogOnUpdatePollConfirmClick=de,l.useLogUpdatePollFail=_e,l.useLogUpdatePollSuccess=he}),98);
__d("IGDComposerCommonPlaceholder.react",["IGDSBox.react","IGDSSpinner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={placeholder:{borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.height,a=e.showSpinner,i=a===void 0?!1:a,l=n,c;t[0]!==i?(c=i&&s.jsx(r("IGDSSpinner.react"),{}),t[0]=i,t[1]=c):c=t[1];var d;return t[2]!==l||t[3]!==c?(d=s.jsx(r("IGDSBox.react"),{alignItems:"center",height:l,justifyContent:"center",xstyle:u.placeholder,children:c}),t[2]=l,t[3]=c,t[4]=d):d=t[4],d}l.default=c}),98);
__d("IGDGenericComposerBlock.react",["IGDSBox.react","IGDSText.react","IGDSTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",color:"xi81zsa",marginTop:"xk9mzb7",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(10),n=e.children,a=e.header,i=e.label,l;t[0]!==i?(l=s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",zeroMargin:!1,children:i}),t[0]=i,t[1]=l):l=t[1];var c;t[2]!==a?(c=a!=null?s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",weight:"bold",zeroMargin:!1,children:a}):void 0,t[2]=a,t[3]=c):c=t[3];var d;t[4]!==l||t[5]!==c?(d=s.jsx(r("IGDSTextPairing.react"),{body:l,headline:c,level:"operational",textAlign:"center"}),t[4]=l,t[5]=c,t[6]=d):d=t[6];var m;return t[7]!==n||t[8]!==d?(m=s.jsx(r("IGDSBox.react"),{xstyle:u.root,children:s.jsxs(r("IGDSBox.react"),{padding:4,children:[d,n]})}),t[7]=n,t[8]=d,t[9]=m):m=t[9],m}l.default=c}),98);
__d("IGDErrorComposer.react",["fbt","IGDGenericComposerBlock.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=r("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("IGDGenericComposerBlock.react"),{header:s._(/*BTDS*/"Algo n\u00e3o est\u00e1 funcionando."),label:s._(/*BTDS*/"Isso pode ter ocorrido devido a um erro t\u00e9cnico que estamos trabalhando para corrigir.")}),e[0]=t):t=e[0],t}l.default=c}),226);
__d("IGDComposerBlockBoundary.react",["IGDComposerCommonPlaceholder.react","IGDErrorComposer.react","PolarisSuspenseWithErrorBoundary.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("IGDComposerCommonPlaceholder.react"),{height:128,showSpinner:!0}),t[0]=a):a=t[0];var l;return t[1]!==n?(l=s.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{errorRenderer:c,loadingRenderer:a,name:i.id,children:n}),t[1]=n,t[2]=l):l=t[2],l}function c(){return s.jsx(r("IGDErrorComposer.react"),{})}c.displayName=c.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDDisappearingMessagesStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e="https://help.instagram.com/491565145294150/",u=s._(/*BTDS*/"As mensagens tempor\u00e1rias e liga\u00e7\u00f5es s\u00e3o protegidas com criptografia de ponta a ponta.");l.LEARN_MORE_LINK=e,l.DM_SECURITY_NOTICE=u}),226);
__d("IGDEmojiButtonEntryPointPopoverTrigger.react",["fbt","CometEmojiCategories","IGDEmojiPicker.entrypoint","IGDEmojiPickerPopoverFallback.react","IGDSBox.react","IGDSEntryPointPopoverTrigger.react","IGDSFace2OutlineIcon.react","IGDSIconButton.react","compactMap","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={button:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonContainer:{alignSelf:"xpvyfi4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(14),n=e.align,a=e.closeAfterSelect,i=e.iconButtonTriggerOverride,l=e.logClickEvent,d=e.logImpressionEventRef,p=e.onSelect,_=a===void 0?!1:a,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Escolha um emoji").toString(),t[0]=f):f=t[0];var g=f,h=r("useIsChatTabsDisplay")(),y=n!=null?n:h?"end":"middle",C,b;t[1]===Symbol.for("react.memo_cache_sentinel")?(C={categoryIDs:r("compactMap")(o("CometEmojiCategories").ORDERED_CATEGORIES,m)},b=u.jsx(r("IGDEmojiPickerPopoverFallback.react"),{}),t[1]=C,t[2]=b):(C=t[1],b=t[2]);var v;t[3]!==_||t[4]!==p?(v={closeAfterSelect:_,onSelect:p},t[3]=_,t[4]=p,t[5]=v):v=t[5];var S;t[6]!==i||t[7]!==l||t[8]!==d?(S=function(t,n,o,a,s,m){return u.jsx(r("IGDSBox.react"),{containerRef:d,xstyle:c.buttonContainer,children:u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:t,onClick:function(){n(),l()},onHoverEnd:s,onHoverStart:a,onPressStart:m,xstyle:c.button,children:i||u.jsx(r("IGDSFace2OutlineIcon.react"),{alt:g,color:"ig-primary-text"})})})},t[6]=i,t[7]=l,t[8]=d,t[9]=S):S=t[9];var R;return t[10]!==y||t[11]!==v||t[12]!==S?(R=u.jsx(r("IGDSEntryPointPopoverTrigger.react"),{align:y,entryPointParams:C,fallback:b,otherProps:v,popoverEntryPoint:r("IGDEmojiPicker.entrypoint"),position:"above",preloadTrigger:"button",children:S}),t[10]=y,t[11]=v,t[12]=S,t[13]=R):R=t[13],R}function m(e){return e.id!==o("CometEmojiCategories").RECENTS_CATEGORY_ID?e.id:null}l.default=d}),226);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","isInstamadillo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return t?u(e,t):n()}async function u(t,n){if(!r("isInstamadillo")())return{openEb:!1,pluginType:void 0};var a=await t.messages.index("messageId").get(n.messageId);if(!o("IGDInstamadilloUtils").isInstamadilloMessage(a))return{openEb:!1,pluginType:void 0};var i=await t.e2ee_igMessageAuxiliaryInfo.get(n.messageId),l=!!(i!=null&&i.openEb);return{openEb:l,pluginType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO)}}l.IGDGetMessagePluginInfo=s}),98);
__d("IGDMaybeSetRepliedToMessage",["IGDGetSlideMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){e.commitUpdate(function(e){var r=o("IGDGetSlideMessage").GetSlideMessageNullable(e,t),a=o("IGDGetSlideMessage").GetSlideMessageNullable(e,n);a!=null&&(r==null||r.setLinkedRecord(a,"replied_to_message"))})}l.default=e}),98);
__d("IGDSEmoji.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.emoji,r=e.fontSize,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a="x15yrdiy",t[0]=a):a=t[0];var i;t[1]!==r?(i=r!=null?{fontSize:r}:void 0,t[1]=r,t[2]=i):i=t[2];var l;return t[3]!==n||t[4]!==i?(l=s.jsx("span",{className:a,style:i,children:n}),t[3]=n,t[4]=i,t[5]=l):l=t[5],l}l.default=u}),98);
__d("IGDSPhotoOutlineIcon.react",["IGDSPhotoPanoOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSPhotoPanoOutlineIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDSetSlideMessageErrorStatus",["IGDGetSlideMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){e.environment.commitUpdate(function(t){var n="mid.$"+e.offlineThreadingId,r=t.get(o("IGDGetSlideMessage").GetSlideMessageDataID(n));r==null||r.setValue("ERROR","client__send_status")})}l.default=e}),98);
__d("IGDWriteOptimisticRelayMessage",["IGDInsertSlideMessage","IGDMaybeSetRepliedToMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},t)),o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},t)),t.replied_to_message_id!=null&&r("IGDMaybeSetRepliedToMessage")(e,t.id,t.replied_to_message_id),t}l.default=e}),98);
__d("LSContactGenderToGenderConst",["GenderConst","I64","LSContactGender","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").FEMALE))?r("GenderConst").FEMALE_SINGULAR:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").MALE))?r("GenderConst").MALE_SINGULAR:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").NEUTER))?r("GenderConst").NEUTER_SINGULAR:r("GenderConst").NOT_A_PERSON}l.default=u}),98);
__d("LSContactListConversionAttributionStore",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t){return t!=null?e.get(t):null}function s(t,n){t!=null&&e.set(t,n)}function u(t){t!=null&&e.delete(t)}i.getAttribution=l,i.setAttribution=s,i.resetAttribution=u}),66);
__d("Link.react",["AbstractLink.react","ClickIDParameterUtils","Href","LinkshimHandlerConfig","Random","URI","gkx","isLinkshimURI","isTrustedDestination","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["allowunsafehref","href","linkRef","s","target"],s,u,c=u||(u=o("react"));function d(e){return e.getDomain().endsWith(".onion")}var m=/^(#|\/\w)/;function p(e){if(m.test(e.toString()))return!1;var t=e.getProtocol();return t!=="http"&&t!=="https"?!1:!r("isTrustedDestination")(e)}function _(e){var t="#",n=null;if(e!=null){var a=o("Href").getTypedHref(e);a.type==="legacy"?(t=a.value.url.toString(),n=a.value.shimhash?a.value.shimhash.toString():n):typeof a.value=="string"?a.value!==""&&a.value!=="#"&&(t=a.value):t=a.value.toString()}return(s||(s=r("URI"))).isValidURI(t)?[new(s||(s=r("URI")))(t),n]:[null,n]}var f=new RegExp("^(l|lm|h)\\..*$","i");function g(e){return e.getProtocol()!=="http"||!r("isTrustedDestination")(e)||f.test(e.getDomain())?null:e.setProtocol("https")}function h(e){return!(e.getProtocol()===""||e.getDomain()===""&&e.getPort()==="")}function y(e){if(!h(e))return!1;var t=r("LinkshimHandlerConfig").current_domain;if(t===""){var n="."+t;return e.getDomain().endsWith(n)}return!0}function C(e,t){var n=null,o=!1,a=e!==null&&e instanceof(s||(s=r("URI")))?e:new(s||(s=r("URI")))("#"),i=y(a),l=i===!0,u=t||(i===!0?"_blank":null),c=r("LinkshimHandlerConfig").use_rel_no_referrer&&u==="_blank";return[a,l,c,u,n,o,i]}function b(e,t,n,a){if(e!==null&&e instanceof(s||(s=r("URI")))){if(r("isLinkshimURI")(e)){var i=e.getQueryData()[r("LinkshimHandlerConfig").linkshim_url_param],l=e.getQueryData()[r("LinkshimHandlerConfig").linkshim_enc_param];(s||(s=r("URI"))).isValidURI(i)&&(e=new(s||(s=r("URI")))(i),t==null&&(t=l))}var u=r("LinkshimHandlerConfig").click_ids;if(u!=null&&u.length>0){var c=Math.floor(r("Random").random()*u.length),m=u[c];e=o("ClickIDParameterUtils").appendClickIDQueryParam(e,m)}var _=r("LinkshimHandlerConfig").aggr_ids;if(r("gkx")("18296")&&_!=null&&_.length>0){var f=Math.floor(r("Random").random()*_.length),h=_[f];e=o("ClickIDParameterUtils").appendBRIDQueryParam(e,h)}}else e=new(s||(s=r("URI")))("#");t==null&&p(e)&&(t=r("LinkshimHandlerConfig").link_react_default_hash);var C=g(e);C!=null&&(e=C);var b=t!=null,v=n||(t!==null?"_blank":null),S=!!a;r("LinkshimHandlerConfig").onion_always_shim&&d(e)&&(S=!1);var R=r("LinkshimHandlerConfig").use_rel_no_referrer&&t!==null&&v==="_blank",L=y(e);return[e,b,R,v,t,S,L]}var v=(function(t){function n(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.render=function(){var t=this.props,n=t.allowunsafehref,o=t.href,a=t.linkRef,i=t.s,l=t.target,s=babelHelpers.objectWithoutPropertiesLoose(t,e),u=_(o),d=u[0],m=u[1],p=r("LinkshimHandlerConfig").is_linkshim_supported?b(d,m,l,i):C(d,l),f=p[0],g=p[1],h=p[2],y=p[3],v=p[4],S=p[5],R=p[6],L=null;return!r("LinkshimHandlerConfig").is_linkshim_supported&&R&&(L=r("LinkshimHandlerConfig").non_linkshim_lnfb_mode),c.jsx(r("AbstractLink.react"),babelHelpers.extends({},s,{href:f,linkRef:a,nofollow:g,noreferrer:h,shimhash:v,target:y,isSafeToSkipShim:S,dataLnfbMode:L,isLinkshimSupported:r("LinkshimHandlerConfig").is_linkshim_supported}))},n})(c.Component);l.default=v}),98);
__d("LsFalcoEventEntryPoint",[],(function(t,n,r,o,a,i){"use strict";var e="message_actions",l="composer",s="icebreaker";i.messageActions=e,i.composer=l,i.icebreaker=s}),66);
__d("MAWQPLLogger",["QPLUserFlow","Random","cr:10049"],(function(t,n,r,o,a,i,l){"use strict";n("cr:10049")==null||n("cr:10049").overwriteSamplingRate();function e(e){return{addQPLAnnotations:function(n,o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:n})},markQPLCancel:function(n){r("QPLUserFlow").endCancel(e,{instanceKey:n})},markQPLFailure:function(n,o){var t;r("QPLUserFlow").endFailure(e,(t=o==null?void 0:o.name)!=null?t:"fail",{error:o,instanceKey:n})},markQPLFailureWithMsg:function(n,o){r("QPLUserFlow").endFailure(e,o,{instanceKey:n})},markQPLPoint:function(n,o,a){r("QPLUserFlow").addPoint(e,o,{debugInfo:a,instanceKey:n})},markQPLStart:function(){var t=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(e,{instanceKey:t}),t},markQPLSuccess:function(n){r("QPLUserFlow").endSuccess(e,{instanceKey:n})}}}l.default=e}),98);
__d("MAWDataSourceLogger",["I64","MAWQPLLogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){return s==null&&(s=r("MAWQPLLogger")(r("qpl")._(25303796,"1974"))),s}function c(t){var n=u().markQPLStart();return u().addQPLAnnotations(n,{string:{threadType:(e||(e=o("I64"))).to_string(t)}}),n}function d(t,n,r){u().markQPLPoint(t,"wait_act_thread_start","before fetching messages range from table"),u().addQPLAnnotations(t,{int:{version:1},string:{direction:n,thread_id:(e||(e=o("I64"))).to_string(r)}})}function m(e,t){u().markQPLFailureWithMsg(e,t)}function p(e){u().markQPLCancel(e)}function _(e){u().markQPLPoint(e,"wait_act_thread_end","before fetching messages range from table"),u().markQPLPoint(e,"load_more_msgs_start","load more messages from MAW DB")}function f(e){u().markQPLPoint(e,"load_messages_from_eb_start","load more messages from EB")}function g(e){u().markQPLPoint(e,"load_messages_from_eb_end","load more messages from EB")}function h(e){u().markQPLPoint(e,"load_messages_from_local_db_start")}function y(e){u().markQPLPoint(e,"load_messages_from_local_db_end")}function C(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_start")}function b(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_end")}function v(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_dispatch_download_state_updates_start")}function S(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_dispatch_download_state_updates_end")}function R(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_call_bridge_handlers_start")}function L(e){u().markQPLPoint(e,"insert_msgs_to_lsdb_call_bridge_handlers_end")}function E(e,t){u().markQPLPoint(e,"load_more_msgs_end","Note: OLD SOLUTION DOES NOT FETCH messages. they are fetched in afterTransaction that we cannot control"),u().addQPLAnnotations(e,{bool:{hasMoreBefore:t}})}function k(e){u().markQPLSuccess(e)}function I(e,t){u().markQPLPoint(e,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+t)}function T(e,t){u().markQPLFailure(e,t)}l.logLoadMoreMsgsStart=c,l.logLoadMoreMsgsThreadWaiting=d,l.logLoadMoreMsgsFailure=m,l.logLoadMoreMsgsCancel=p,l.logLoadMoreMsgsThreadReadyFetchMsgs=_,l.logLoadMessagesFromEBStart=f,l.logLoadMessagesFromEBEnd=g,l.logLoadMessagesFromLocalDBStart=h,l.logLoadMessagesFromLocalDBEnd=y,l.logInsertMessageResponseToLSDBStart=C,l.logInsertMessageResponseToLSDBEnd=b,l.logDispatchDownloadStateUpdatesStart=v,l.logDispatchDownloadStateUpdatesEnd=S,l.logCallBridgeHandlersStart=R,l.logCallBridgeHandlersEnd=L,l.logLoadMoreMsgsFetched=E,l.logLoadMoreMsgsSuccess=k,l.logLoadMoreMsgsRangeQuery=I,l.logLoadMoreMsgsRuntimeError=T}),98);
__d("MAWPutMessagesToDB",["MAWBridgeDeleteReactionHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeReactionUpsertHandler","MAWDataSourceLogger","gkx"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,a){var i=n.editMsgHistory,l=n.expiringCountdown,s=n.medias,u=n.msgs,c=n.polls,d=n.quotedMsgs,m=n.reactions,p=n.receiverFetchInfoPayloads,_=n.xmas;a!=null&&o("MAWDataSourceLogger").logDispatchDownloadStateUpdatesStart(a),a!=null&&(o("MAWDataSourceLogger").logDispatchDownloadStateUpdatesEnd(a),o("MAWDataSourceLogger").logCallBridgeHandlersStart(a));var f=r("gkx")("17154");f&&await Promise.all(s.map(function(e){return o("MAWBridgeNewMediaHandler").call(t,e)})),d!=null&&d.length>0&&await o("MAWBridgeNewMsgHandler").bulkCall(t,d),await o("MAWBridgeNewMsgHandler").bulkCall(t,u),f||await Promise.all(s.map(function(e){return o("MAWBridgeNewMediaHandler").call(t,e)})),await Promise.all(_.map(function(e){return o("MAWBridgeNewXMAHandler").call(t,e)})),await Promise.all(p.map(function(e){return o("MAWBridgeNewReceiverFetchInfoHandler").call(t,e)})),await Promise.all(c.map(function(e){return o("MAWBridgeNewPollHandler").call(t,e)})),await o("MAWBridgeMsgsStartCountdownHandler").call(t,{msgs:l}),await Promise.all(m.map(function(e){return e.type==="delete"?o("MAWBridgeDeleteReactionHandler").call(t,e.reaction):o("MAWBridgeReactionUpsertHandler").call(t,e.reaction)})),await o("MAWBridgeEditMsgHistoryAddedHandler").call(e,t,i),a!=null&&o("MAWDataSourceLogger").logCallBridgeHandlersEnd(a)}function s(t,n,r){return t.runInTransaction(function(o){return e(t,o,n,r)},"readwrite","ui",void 0,i.id+":111")}l.insertMessageResponseToDBInExistingTransaction=e,l.insertMessageResponseIntoDatabase=s}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mw_sent_message";function u(){return r("justknobx")._("1630")}function c(){(e||(e=r("WebStorage"))).setItemGuarded(e.getLocalStorage(),s,String(Date.now()))}function d(){var t=(e||(e=r("WebStorage"))).getLocalStorage();return Date.now()-Number(t==null?void 0:t.getItem(s))<u()}l.sentMessage=c,l.hasSentMessagesRecently=d}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=a.isCommunityEvent,l=a.isMessageRequest,s=a.source,u=a.threadType,c=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(t.getTraceId());o("MWChatInteraction").set(n,c);var d={entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(s),is_community_event:i===!0?"true":"false",is_message_request:l===!0?"true":"false",thread_type:u==null?"unknown":(e||(e=o("I64"))).to_string(u)};return Object.entries(d).forEach(function(e){var n=e[0],r=e[1];t.addMetadata(n,String(r))}),o("MessengerIntent").sentMessage(),t.onComplete(function(){delete o("MWChatInteraction").interactions[n]})}l.logSentHeroInteraction=s}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(e||(e=o("I64"))).zero,initTimestampMs:o("MAWTimeUtils").toTimestamp(o("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:n,traceType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").TASK)})}function c(t,n,a,i){return u(t,n).then(function(){return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:n,syncChannel:(e||(e=o("I64"))).neg_one,tags:e.to_string(a)+","+e.to_string(i)})})}l.logMediaSendStart=c}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function u(t,n,a,i,l,u,c,d,m,p,_,f){var g=p!=null&&(e||(e=o("LSIntEnum"))).unwrapIntEnum(p)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO,h=g?1:0;s.onReady(function(e){return e.log(t,{actor:i,additionalTags:g?["armadillo_express"]:void 0,attachmentFbids:u,attachmentType:d,backend:h,ephemeralDurationInSec:f,hasReply:m,isInstamadilloTTLC:_,offlineThreadingId:l,sendType:0,source:c,threadKey:n,threadType:a})})}l.log=u}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({});function _(e){var t=e.children,n=e.onMessageSendAttempt,r=d(p),o=r.onMessageSendAttempt,a=m(function(){return{onMessageSendAttempt:function(t){o==null||o(t),n==null||n(t)}}},[o,n]);return s.jsx(p.Provider,{value:a,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.MWV2ComposerActionsContext=p,l.MWV2ComposerActionsListener=_}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedS2SBaseAnnotations","MWVersion","ReQL","ReQLSubscribe","err","gkx","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){o("sendToSentQPLLogger").markSendToSentPoint(e,"received_successful_server_ack"),o("sendToSentQPLLogger").markSendToSentSuccess(e),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function c(e,t){o("sendToSentQPLLogger").markSendToSentFail(e,"send_message_server_error",r("err")("send_message_server_error")),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function d(e){o("sendToSentQPLLogger").markSendToSentPoint(e,"sending_message")}function m(t){var n=t.db,a=t.isCommunityEvent,i=t.isFirstMessage,l=i===void 0?!1:i,m=t.isMessageRequest,p=t.isWorkChat,_=p===void 0?!1:p,f=t.s2sInstanceKey,g=t.sendFirstMessageSeparately,h=g===void 0?!1:g,y=t.source,C=t.threadType,b=t.traceSendMessageAPI,v={isCommunityEvent:a,isMessageRequest:m,mwVersion:o("MWVersion").v2,source:y,threadType:C};return function(t){o("MWLSLogSend").logSentHeroInteraction(b,t,v),o("MWChatInteraction").set(o("MWChatInteraction").s2sKey(t),String(f)),o("sendToSentQPLLogger").addSendToSentAnnotations(f,{bool:{subscription_points_gk:!0},string:{entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(y),is_community_event:a===!0?"true":"false",is_first_message:l===!0?"true":"false",is_message_request:m===!0?"true":"false",offline_threading_id:_&&r("gkx")("9326")?t:null,send_first_message_separately:h===!0?"true":"false",thread_type:C==null?"unknown":(e||(e=o("I64"))).to_string(C)}});var i=!1,p=o("ReQL").fromTableAscending(n.tables.messages.index("optimistic")).getKeyRange(t),g=o("ReQLSubscribe").subscribeToFirst(p,function(n){n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(2))?(i=!0,u(f,t),g()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(4))?(i=!0,c(f,t),g()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(1))&&d(f)});window.setTimeout(async function(){if(!i){var e=await o("ReQL").firstAsync(p);i||o("sendToSentQPLLogger").addSendToSentAnnotations(f,{string:{status_after_10s:e?""+(s||(s=o("LSIntEnum"))).toNumber(e.sendStatusV2):"none"}})}},1e4),window.setTimeout(function(){g()},12e4)}}l.default=m}),98);
__d("MWXTheme.react",["cr:7379","cr:7380","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["displayMode"],s,u=s||(s=o("react"));function c(t){var r=t.displayMode,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:7380")!=null?u.jsx(n("cr:7380"),babelHelpers.extends({displayMode:r},o)):n("cr:7379")!=null?u.jsx(n("cr:7379"),babelHelpers.extends({theme:r},o)):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("useMWXButtonSpinner",["fbt","FDSProgressRing.react","MWXSpinner.react","MWXTheme.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=r("react"));function c(e){var t=e.children;return r("MWXTheme.react")!=null?u.jsx(r("MWXTheme.react"),{displayMode:"dark",children:t}):null}c.displayName=c.name+" [from "+i.id+"]";function d(e,t,n){var o=n===36,a=r("FDSProgressRing.react")!=null&&o?20:16;if(t===!0)return u.jsx(r("FDSProgressRing.react"),{"aria-label":s._(/*BTDS*/"Carregando..."),color:"disabled",duration:2,size:a,type:"estimated"});var i=e!=="secondary"?c:u.Fragment;return u.jsx(i,{children:u.jsx(r("MWXSpinner.react"),{color:"dark",size:a})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWXButtonImpl.react",["cr:10054","cr:2625","react","useMWXButtonSpinner"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","icon","isContainerTarget","loading","size","type"],s,u=s||(s=o("react"));function c(t){var o=t.ref,a=t.icon,i=t.isContainerTarget,l=t.loading,s=t.size,c=t.type,d=babelHelpers.objectWithoutPropertiesLoose(t,e),m=r("useMWXButtonSpinner")(c,d.disabled,s);if(n("cr:10054")){var p=s===36;return u.jsx(n("cr:10054"),babelHelpers.extends({addOnPrimary:l===!0?m:void 0,icon:a==null?void 0:a.component,ref:o,size:p?"large":"medium",type:c==="destructive"?"fdsOverride_negative":c},d))}return n("cr:2625")?u.jsx(n("cr:2625"),babelHelpers.extends({addOnStart:l===!0?m:void 0,icon:a==null?void 0:a.originalComponent,isContainerTarget:i,ref:o,size:s,type:c},d)):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXButton.react",["MWXButtonImpl.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("MWXButtonImpl.react"),babelHelpers.extends({ref:n},o))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXColumn.react",["cr:804","cr:842","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var r=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:804")!=null?u.jsx(n("cr:804"),babelHelpers.extends({},o,{ref:r})):n("cr:842")!=null?u.jsx(n("cr:842"),babelHelpers.extends({},o,{ref:r})):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXColumnItem.react",["cr:1350","cr:2004","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var r=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:1350")!=null?u.jsx(n("cr:1350"),babelHelpers.extends({},o,{ref:r})):n("cr:2004")!=null?u.jsx(n("cr:2004"),babelHelpers.extends({},o,{ref:r})):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXGlimmer.react",["cr:4067","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx(n("cr:4067"),babelHelpers.extends({},e))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"],u,c=u||(u=o("react"));function d(e){return e===10?12:e}function m(e){switch(e){case 10:return 12;case 20:return 16;default:return e}}function p(e){return e===10?12:e}function _(t){var r=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);if(n("cr:2667")!=null){var a=o.paddingHorizontal,i=o.paddingTop,l=o.paddingVertical,u=o.spacing,_=o.spacingHorizontal,f=o.spacingVertical,g=babelHelpers.objectWithoutPropertiesLoose(o,s);return c.jsx(n("cr:2667"),babelHelpers.extends({paddingHorizontal:d(a),paddingTop:m(i),paddingVertical:m(l),ref:r,spacing:p(u),spacingHorizontal:p(_),spacingVertical:p(f)},g))}return n("cr:2922")!=null?c.jsx(n("cr:2922"),babelHelpers.extends({},o,{ref:r})):null}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var r=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:3083")!=null?u.jsx(n("cr:3083"),babelHelpers.extends({},o,{ref:r})):n("cr:3084")!=null?u.jsx(n("cr:3084"),babelHelpers.extends({},o,{ref:r})):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXTextPairing.react",["FDSTextWebUtils","cr:4853","cr:6725","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["bodyColor","bodyRef","headlineColor","headlineRef","metaColor","metaRef"],s,u=s||(s=o("react")),c={tetraTextWrapper:{boxSizing:"x9f619",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function d(e){return function(t){e!=null&&(typeof e=="function"?e(t):e.current=t)}}function m(t){if(n("cr:6725")!=null){var r=t.bodyColor,a=t.bodyRef,i=t.headlineColor,l=t.headlineRef,s=t.metaColor,m=t.metaRef,p=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(o("react-strict-dom").html.div,{style:[c.tetraTextWrapper],children:u.jsx(n("cr:6725"),babelHelpers.extends({bodyColor:o("FDSTextWebUtils").getFDSBodyColor(r),bodyRef:d(a),headlineColor:o("FDSTextWebUtils").getFDSHeadlineColor(i),headlineRef:d(l),metaColor:o("FDSTextWebUtils").getFDSMetaColor(s),metaRef:d(m)},p))})}return n("cr:4853")!=null?u.jsx(n("cr:4853"),babelHelpers.extends({},t)):null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWXComposerBanner.react",["CometAccessibilityAnnouncement.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","MWXTextPairing.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={banner:{paddingBottom:"xjkvuk6",$$css:!0},block:{paddingBottom:"x1l90r2v",$$css:!0},button:{maxWidth:"x1va8c73",$$css:!0},buttonFullWidth:{width:"xh8yej3",$$css:!0},composerRow:{marginBottom:"xmgb6t1",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmerButton:{borderStartStartRadius:"x1rl75mt",borderStartEndRadius:"x19t5iym",borderEndEndRadius:"xz7t8uv",borderEndStartRadius:"x13xmedi",height:"xxk0z11",marginTop:"x1xmf6yo",marginInlineEnd:"xnnr8r",marginBottom:"xjpr12u",marginInlineStart:"xe9ewy2",width:"xvy4d1p",$$css:!0},glimmerButtonEmoji:{marginTop:"x1xmf6yo",marginInlineEnd:"x11lt19s",marginBottom:"xjpr12u",marginInlineStart:"xwklpps",$$css:!0},glimmerComposer:{borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",height:"xc9qbxq",marginTop:"xr9ek0c",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"x1lziwak",width:"xh8yej3",$$css:!0},loading:{borderTopWidth:"x972fbf",$$css:!0}};function c(e){var t=e.assertive,n=t===void 0?!1:t,o=e.bodyText,a=e.buttons,i=e.fullWidthButton,l=i===void 0?!1:i,c=e.headerText,d=e.loading,m=d===void 0?!1:d,p=e.ref,_=e.testid,f=e.variant,g=f===void 0?"block":f,h=Array.isArray(a)?a.length>0:a!=null;return s.jsxs(r("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:p,spacing:20,testid:void 0,xstyle:[u.container,g==="banner"&&u.banner,g==="block"&&u.block,m&&u.loading],children:[m===!0?s.jsx(r("MWXColumnItem.react"),{paddingVertical:0,children:s.jsxs(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,children:[s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmerButton})}),s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmerButton})}),s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmerButton})}),s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmerButton})}),s.jsx(r("MWXRowItem.react"),{expanding:!0,xstyle:u.composerRow,children:s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmerComposer})}),s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:[u.glimmerButton,u.glimmerButtonEmoji]})})]})}):null,c!=null||o!=null?s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("CometAccessibilityAnnouncement.react"),{assertive:n,isVisible:!0,children:s.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsx(r("MWXTextPairing.react"),{headline:c,isSemanticHeading:!0,level:4,meta:o,textAlign:"center"})})})})}):null,h?s.jsx(r("MWXRow.react"),{align:"center",spacing:8,children:Array.isArray(a)?a.map(function(e,t){return s.jsx(r("MWXRowItem.react"),{expanding:!0,xstyle:l===!0?u.buttonFullWidth:u.button,children:s.jsx(r("MWXButton.react"),babelHelpers.extends({type:"secondary"},e))},t)}):s.jsx(r("MWXRowItem.react"),{expanding:!0,xstyle:l===!0?u.buttonFullWidth:u.button,children:a},"button")}):null]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s=r("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),c=s("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),d=s("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=s("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),p=s("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),_=s("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),f=s("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),g=s("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function h(e){switch(e.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function y(t,n,a){m.onReady(function(i){i.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:a,other_user_id:n,request_id:void 0,thread_folder:h(t),thread_id:a!=null?a:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function C(t,n){f.onReady(function(a){a.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:n,request_id:void 0,thread_folder:h(t),thread_id:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function b(t,n,a,i){_.onReady(function(l){l.log(function(){return{action:n,extra_data_map:void 0,group_thread_id:i,other_user_id:a,request_id:void 0,thread_folder:h(t),thread_id:i!=null?i:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function v(t,n,a,i){p.onReady(function(l){l.log(function(){return{action:n,extra_data_map:void 0,group_thread_id:i,other_user_id:a,request_id:void 0,thread_folder:h(t),thread_id:i!=null?i:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function S(e,t){g.onReady(function(n){n.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:e,folder:t,request_id:void 0}})})}function R(e,t,n,r,o){d.onReady(function(a){a.log(function(){return{action:r,actioned_thread_count:t.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:n.toString(),entry_point:e,folder:o,request_id:void 0}})})}function L(e,t,n,r,o){u.onReady(function(a){a.log(function(){return{action:r,actioned_thread_count:t.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:n.toString(),entry_point:e,folder:o,request_id:void 0}})})}function E(e,t,n){c.onReady(function(r){r.log(function(){return{action:t,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:e,folder:n,request_id:void 0}})})}l.logMessageRequestInfoShown=y,l.logDenialOptionsTapped=C,l.logActionTapped=b,l.logActionConfirmed=v,l.logMessageRequestsView=S,l.logMessageRequestsBulkActionTapped=R,l.logMessageRequestsBulkActionConfirmed=L,l.logMessageRequestsBulkActionEdit=E}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=o("I64"))).to_int32(t);switch(n){case r("MessagingAttachmentType").NONE:return 1;case r("MessagingAttachmentType").STICKER:return 4;case r("MessagingAttachmentType").IMAGE:return 8;case r("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case r("MessagingAttachmentType").VIDEO:return 10;case r("MessagingAttachmentType").AUDIO:return 11;case r("MessagingAttachmentType").FILE:return 9;case r("MessagingAttachmentType").XMA:return 13;case r("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case r("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case r("MessagingAttachmentType").SELFIE_STICKER:return 22;case r("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}l.convertI64ToAttachmentType=s}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function c(t,n){var a=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),u=(e||(e=o("I64"))).to_int32(n!=null?n:(e||(e=o("I64"))).zero),c=u===1||u===15,d=o("ReQLSuspense").useArray(function(){return c&&t!=null?o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t):o("ReQL").empty()},[a,t,c],i.id+":72");if(t==null)return null;if(c){var m=d.map(function(t){return(e||(e=o("I64"))).to_string(t.contactId)}).filter(function(t){return t!==(e||(e=o("I64"))).to_string(l)})[0];return m}else return(e||(e=o("I64"))).to_string(t)}l.EventTypeEnum=u,l.useGetUniqueThreadID=c}),98);
__d("MessengerInboxTrayConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3905"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3476"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayConversionClickEventFalcoEvent","MessengerInboxTrayEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function s(e,t){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION,t)}function u(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function c(e,t,n){var a=e.id,i=e.isOnline,l=e.messageThreadId,s=e.position,u=e.storyIds,c=e.surface,d=e.targetType,m=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)m="one_px_impression";else return;var p={event_type:m,surface:{entry_point:c.entry_point,major_surface:c.major_surface,minor_surface:c.minor_surface},target:{ranking:{absolute_position:s!=null?s.toString():"-1"},type:d,user:{id:a}}};if(i!=null&&(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{presence:{status:i?1:0}})})),(u==null?void 0:u.firstCardId)!=null&&(u==null?void 0:u.bucketId)!=null){var _,f=atob(u.firstCardId),g=null;f!=null&&f.includes("S:_ISC:")&&(g=f.split("S:_ISC:")[1]),p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{story:{bucket_id:(_=u.bucketId)!=null?_:null,first_card_id:g!=null?g:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerInboxTrayEventFalcoEvent").log(function(){return p}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{button:n!=null?{type:n}:void 0,message_thread:l!=null?{consistent_thread_fbid:l}:void 0})}),r("MessengerInboxTrayConversionClickEventFalcoEvent").log(function(){return p})):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerInboxTrayEventFalcoEvent").log(function(){return p})}l.logClickEvent=e,l.logConversionClickEvent=s,l.logImpressionEvent=u}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2305"),s=o("FalcoLoggerInternal").create("messenger_sidebar_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2306"),s=o("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2307"),s=o("FalcoLoggerInternal").create("messenger_sidebar_impression_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e={scrollMargin:-33};function s(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function u(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function c(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function d(e,t){var n=e.id,a=e.isOnline,i=e.position,l=e.storyIds,s=e.surface,u=e.targetType,c=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)c="vpvd_impression";else return;var d={event_type:c,surface:{entry_point:s.entry_point,major_surface:s.major_surface,minor_surface:s.minor_surface},target:{ranking:{absolute_position:i!=null?i.toString():"-1"},type:u,user:{id:n}}};if(a!=null&&(d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{presence:{status:a?1:0}})})),(l==null?void 0:l.firstCardId)!=null&&(l==null?void 0:l.bucketId)!=null){var m,p=atob(l.firstCardId),_=null;p!=null&&p.includes("S:_ISC:")&&(_=p.split("S:_ISC:")[1]),d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{story:{bucket_id:(m=l.bucketId)!=null?m:null,first_card_id:_!=null?_:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerSidebarClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?r("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerSidebarImpressionEventFalcoEvent").log(function(){return d})}l.IMPRESSION_LOG_OPTIONS=e,l.logClickEvent=s,l.logConversionClickEvent=u,l.logImpressionEvent=c}),98);
__d("MessengerSurfaceType",[],(function(t,n,r,o,a,i){"use strict";var e="MESSENGER",l="WORK_QUIKCHAT",s="WORK_CHAT",u="WORKROOMS",c="WORKROOMS_IN_CALL",d="WORK_MEETINGS_IN_CALL",m="OTHER";i.messenger=e,i.workQuickchat=l,i.workChat=s,i.workrooms=u,i.workroomsInCall=c,i.workMeetingsInCall=d,i.other=m}),66);
__d("MessengerWebEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("230"),s=o("FalcoLoggerInternal").create("messenger_web_events",e),u=s;l.default=u}),98);
__d("MpsMessageToLoadResponse",["FBLogger","MpsMessageToBridge","MpsMessageToBridgeWrapper","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=[],i=[],l=[],u=[],c=[],d=[],m=[],p=[],_=[],f=0,g=new Set,h=function(){var t,n=(t=o("MpsMessageToBridge").mpsFullMessagetoBridge(y))!=null?t:{},h=n.supplementals,C=n.topLevel;h==null||h.forEach(function(e){e.kind==="bridgeEditHistoryMsg"?a.push(e.value):e.kind==="bridgeReactionAction"?i.push(e.value):e.kind==="bridgeMsgsStartCountdown"?c.push.apply(c,e.value.msgs):e.kind==="bridgeXMAStartCountdown"?d.push.apply(d,e.value.msgs):e.kind==="bridgeNoteReplyStartCountdown"?m.push.apply(m,e.value.msgs):e.kind==="bridgeMedia"?_.push(e.value):e.kind==="bridgeReceiverFetchInfo"?p.push(e.value):e.kind==="bridgeXMA"&&u.push(e.value)}),(C==null?void 0:C.kind)==="bridgeMsg"&&l.push(C.value);var b=C!=null&&C.kind==="bridgeMsg"&&C.value.type_===o("WAMsgType").MSG_TYPE.FUTUREPROOF;if(C==null||b){f++,r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).INFO(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Could not convert MPS msg to Bridge msg, id: ",", isFutureProof: ",""])),y.toplevelProtobuf.messageId,b);var v=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(y.toplevelProtobuf),S=v.deserialize(),R=S.encryptedTransportMessage(),L="unknownFieldCount",E=R==null?void 0:R.subProtocol(),k=S.adminMessage();if(E!=null)e:{if((typeof E=="object"&&E!==null||typeof E=="function")&&E.kind==="consumerApplication"){var I,T;Object.keys((I=R==null||(T=R.consumerMessage())==null||(T=T.payload)==null?void 0:T.content)!=null?I:{}).forEach(function(e){e!==L&&g.add("consumer:"+e)});break e}if((typeof E=="object"&&E!==null||typeof E=="function")&&E.kind==="armadillo"){var D,x;Object.keys((D=R==null||(x=R.armadillo())==null||(x=x.payload)==null?void 0:x.content)!=null?D:{}).forEach(function(e){e!==L&&g.add("armadillo:"+e)});break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+E)}else if(k!=null){var $;Object.keys(($=k.proto)!=null?$:{}).forEach(function(e){e!==L&&g.add("admin:"+e)})}else S.encryptedTransportEvent()!=null?g.add("transportEvent"):S.locallyTransformedMessage()!=null?g.add("locallyTransformed"):(g.add("unknown"),r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).mustfix("Unrecognised message"));r("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Unrendered msg type, id: ",", type: ",""])),y.toplevelProtobuf.messageId,Array.from(g).join(","))}};for(var y of t)h();var C={editMsgHistory:a,expiringCountdown:c,medias:_,msgs:l,noteReplyCountdown:m,polls:[],reactions:i,receiverFetchInfoPayloads:p,xmaCountdown:d,xmas:u};return f>0&&(n==null||n.addQPLAnnotations({int:{mpsUnrenderedCount:f},string_array:{mpsUnkownMsgTypes:Array.from(g)}})),C}l.messageToLoadMsgsResponse=u}),98);
__d("WorkGalahadMWChatTabContext.react",["MessengerSurfaceType","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({surface:o("MessengerSurfaceType").messenger});l.context=u}),98);
__d("XCometVanityURLControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/{vanity}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XInstagramHelpDotComContentControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[],force_new_ighc:!1}),void 0),s=e;l.default=s}),98);
__d("createOptimisticAudioSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.audioAttachment,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageAudiosContent",__typename:"SlideMessageAudiosContent",audio_attachments:[{attachment_cdn_url:URL.createObjectURL(t.file),attachment_fbid:null,playable_duration_ms:t.playableDurationMs,waveform_data:t.waveformData}]},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a voice message").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("createOptimisticImageSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.image,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageImageContent",__typename:"SlideMessageImageContent",attachments:[{__isSlideMessagingMediaAttachment:"XFBSlideAttachment",__typename:"XFBSlideAttachment",attachment_cdn_fallback_url:t.url,attachment_cdn_url:t.url,attachment_fbid:null,attachment_type:2,preview_cdn_fallback_url:t.url,preview_cdn_url:t.url,preview_height:t.height,preview_width:t.width}]},content_type:"IMAGES",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"Voc\u00ea enviou uma foto").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("createOptimisticTextSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Voc\u00ea").toString();function u(t){var n=t.offlineThreadingId,r=t.optimisticMessageId,o=t.repliedToMessageId,a=t.senderFbid,i=t.text,l=t.threadFbid,s=t.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:s,content:{__isSlideMessageContent:"SlideMessageText",__typename:"SlideMessageText",text_body:i},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:e+": "+i,is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:i,thread_fbid:l,timestamp_ms:s};return u}l.default=u}),226);
__d("createOptimisticVideoSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.offlineThreadingId,n=e.optimisticMessageId,r=e.repliedToMessageId,o=e.senderFbid,a=e.threadFbid,i=e.timestampMs,l=e.video,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:i,content:{__isSlideMessageContent:"SlideMessageVideosContent",__typename:"SlideMessageVideosContent",videos:[{__typename:"XFBSlideVideoAttachment",attachment_cdn_url:l.url,attachment_fbid:null,attachment_type:4,preview_cdn_url:l.url,preview_height:l.height,preview_width:l.width}]},content_type:"VIDEOS",id:n,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a video").toString(),is_reported:!1,message_id:n,offline_threading_id:t,reactions:[],replied_to_message:null,replied_to_message_id:r,sender_fbid:o,text_body:"",thread_fbid:a,timestamp_ms:i};return u}l.default=e}),226);
__d("isE2EEAttributedInstamadillo",["gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("6650")===!0||r("qex")._("662")===!0&&r("qex")._("954")===!1}l.default=e}),98);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPAttachmentUploadQplFlow","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){if(e!=null&&e.startsWith("blob:")){var a={contents:function(){}};a.contents=o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(r).subscribe(function(n,r){if(r.operation==="put"){var o=r.value;if(o.attachmentFbid!==t.toString())return;var i=o.playableUrl;i!=null&&!i.startsWith("blob:")&&(a.contents(),URL.revokeObjectURL(e))}})}}async function u(t,n,a,l,u,c,d,m,p,_,f,g){await r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:d.attachment_type,inMessageIndex:(e||(e=o("I64"))).zero,isSecure:!1,offlineAttachmentId:u,offlineThreadingId:c,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});var h=function(a,m){if(!(m==null||m.length===0)){var t=async function(){var t=await r("LSDatabaseSingletonLazyWrapper")();return t.runInTransaction(async function(a){var i=r("LSFactory")(a);await r("LSMarkSubJobCompletedV2StoredProcedure")(i,{fbid:(e||(e=o("I64"))).of_string(m),offlineAttachmentId:u}),await o("MWPOpenComposerUtils").resumeSendJob(i,c,l),s(d.playable_url,m,t,n)},"readwrite",void 0,void 0,i.id+":101")};r("promiseDone")(t(),function(){_==null||_(a)})}},y=function(t,n){var e;f==null||f((e=n.response.getErrorDescriptionString())!=null?e:"unknown_upload_failure",t)},C=g==="IGDComposer"?o("MWPAttachmentUploadQplFlow").createAttachmentUploadIdToQplFlowMap([{attachmentType:"audio",entryPoint:g,fileSize:m.file.size,platform:"igd",uploadId:u}]):null;await o("MWPComposerMediaUploadUtil").startUpload(p,void 0,h,y,!0,[m.file],[u],void 0,void 0,m.waveformData,void 0,e.to_string(a),C)}l.default=u}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","gkx","updateAndFlushLSDataTrace"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r,a){n!=null&&await o("MWMediaTraceHandler").logMediaSendStart(t,n,r,(e||(e=o("I64"))).of_int32(a))}async function u(t,n,a){a!=null&&r("gkx")("23995")&&await r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:a,syncChannel:(e||(e=o("I64"))).minus_one,tags:n})}async function c(t,n,a,i,l){var c=r("LSGenerateTraceId")(),d=l[0],m=o("MessagingLoggingUtils").convertI64ToAttachmentType(d.attachmentType);await s(t,c,(e||(e=o("I64"))).of_int32(i.length),m);var p=0,_=i.map(async function(i,s){await r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:i.attachment_type,inMessageIndex:(e||(e=o("I64"))).of_int32(s),isSecure:!1,offlineAttachmentId:i.attachment_fbid,offlineThreadingId:a,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}),await o("MWPOpenComposerUtils").updateMediaStaging(t,i.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})});var u=l.find(function(e){return e.offlineAttachmentId===i.offline_attachment_id});if(u!=null){var c=u.fbid;c!=null&&(await r("LSMarkSubJobCompletedV2StoredProcedure")(r("LSFactory")(t),{fbid:c,offlineAttachmentId:i.attachment_fbid}),await o("MWPOpenComposerUtils").deleteMediaStaging(t,i.attachment_fbid),await o("MWPOpenComposerUtils").updateAttachment(t,n,a,i.attachment_fbid,function(t){return babelHelpers.extends({},t,{attachmentFbid:(e||(e=o("I64"))).to_string(c)})}),p++)}r("gkx")("24136")&&await o("MWPOpenComposerUtils").updateAttachment(t,n,a,i.attachment_fbid,function(e){return babelHelpers.extends({},e,{previewHeight:void 0,previewWidth:void 0})})});return await Promise.allSettled(_),await o("MWPOpenComposerUtils").resumeSendJob(r("LSFactory")(t),a,c),await u(t,e.to_string(n),c),await r("updateAndFlushLSDataTrace")(t,c),{sentWithAllFilesUploaded:p===i.length}}l.default=c}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n){r("promiseDone")(r("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:n}));var a=t.map(async function(t){await o("MWPOpenComposerUtils").updateMediaStaging(e,t.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})})});await Promise.allSettled(a)}l.default=e}),98);
__d("mapSlideMessageSendStatusToLSStatusV2",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e==="OPTIMISTIC"?1:e==="AUTHORITATIVE"?2:e==="ERROR"?t===!0?5:4:e==="UNKNOWN"?2:e==null?0:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}i.default=e}),66);
__d("useEnabledForWorkchatOnly",["MessengerSurfaceType","WorkGalahadMWChatTabContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(){var e=u(o("WorkGalahadMWChatTabContext.react").context);return c(function(){return e.surface===o("MessengerSurfaceType").workQuickchat||e.surface===o("MessengerSurfaceType").workChat||e.surface===o("MessengerSurfaceType").workMeetingsInCall},[e])}l.default=d}),98);
__d("useFeatureLimitsOffMsysQuery.graphql",["useFeatureLimitsOffMsysQuery_instagramRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"LiveFeatureLimitResponse",kind:"LinkedField",name:"xfb_feature_limits",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingFeatureLimit",kind:"LinkedField",name:"limits",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_timestamp_seconds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feature_limit_type",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"useFeatureLimitsOffMsysQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useFeatureLimitsOffMsysQuery",selections:e},params:{id:n("useFeatureLimitsOffMsysQuery_instagramRelayOperation"),metadata:{live:{config_id:""}},name:"useFeatureLimitsOffMsysQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("useFeatureLimitsOffMsys",["CometRelay","ServerTime","react-compiler-runtime","useFeatureLimitsOffMsysQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r,a=o("react-compiler-runtime").c(2),i=o("CometRelay").usePreloadedQuery(e!==void 0?e:e=n("useFeatureLimitsOffMsysQuery.graphql"),t),l=o("ServerTime").getMillis()/1e3,s;if(a[0]!==((r=i.xfb_feature_limits)==null?void 0:r.limits)){var c,d,m;s=((c=(d=i.xfb_feature_limits)==null?void 0:d.limits)!=null?c:[]).filter(function(e){return e.expiration_timestamp_seconds>l}).map(u),a[0]=(m=i.xfb_feature_limits)==null?void 0:m.limits,a[1]=s}else s=a[1];return s}function u(e){return{expirationTimestampSeconds:e.expiration_timestamp_seconds,featureLimitType:e.feature_limit_type}}l.default=s}),98);
__d("useIGDChatTabsMessagingSource.react",["I64","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","MWLSThreadDisplayContext","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=o("IGDChatTabsStateContext.react").useIGDChatTabsState();if(r==="ChatTab"){var i,l;n[0]!==(a==null?void 0:a.openedTabs)||n[1]!==t?(l=a==null?void 0:a.openedTabs.get((e||(e=o("I64"))).to_string(t)),n[0]=a==null?void 0:a.openedTabs,n[1]=t,n[2]=l):l=n[2];var s=l;return(i=s==null?void 0:s.source)!=null?i:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.Unknown}return null}l.default=s}),98);
__d("useIGDReplyOnLS",["I64","IGDReplyContext.react","LSIntEnum","MWPReplyContext.react","mapSlideMessageSendStatusToLSStatusV2","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(){var e=o("react-compiler-runtime").c(2),t=c(o("MWPReplyContext.react").MWPReplyContext),n=t.reply,r=o("IGDReplyContext.react").useIGDReplyContext();if(n==null&&r==null)return null;if(n!=null)return n;var a;return e[0]!==r?(a=m(r),e[0]=r,e[1]=a):a=e[1],a}function m(e){var t,n,a;return e==null?null:{isReported:(t=e.message.is_reported)!=null?t:!1,messageId:e.message.message_id,offlineThreadingId:e.message.offline_threading_id,sendStatusV2:(s||(s=o("LSIntEnum"))).ofNumber(r("mapSlideMessageSendStatusToLSStatusV2")(e.message.client__send_status)),text:(n=(a=e.message.content)==null?void 0:a.text_body)!=null?n:"",threadKey:(u||(u=o("I64"))).of_string(e.message.thread_fbid),timestampMs:u.of_string(e.message.timestamp_ms)}}l.default=d}),98);
__d("useIsMessengerPWA",["ExecutionEnvironment","isMessengerPWA","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useState;function m(){var t=d(r("isMessengerPWA")),n=t[0],o=t[1];return c(function(){if(!(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||!matchMedia)){var t=matchMedia("(display-mode: standalone)"),n=function(t){o(t.matches)};return t.addListener(n),function(){t.removeListener(n)}}},[]),n}l.default=m}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=r("useReStore")))();return o("Int64Hooks").useCallbackInt64(function(){r("promiseDone")(n.runInTransaction(function(e){return r("LSOptimisticAcceptMessageRequestStoredProcedure")(r("LSFactory")(e),{threadKey:t})},"readwrite",void 0,void 0,i.id+":25"))},[n,t])}l.default=s}),98);
__d("useMWLSDefaultThreadSourceWithResetBasedOnThreadType",["LSThreadAttributionTypeUtil","MWGenAIUtils","react","useLSMessagingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=r("useLSMessagingSource")();return s(function(t){return o("MWGenAIUtils").isMetaAIThread(t)?o("LSThreadAttributionTypeUtil").getSourceWithoutReset(t,e):o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,e)},[e])}l.default=u}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","ChatGeminiDisplayContextProvider.react","CometRelay","I64","IGDGetMessagePluginInfo","IGDReplyContext.react","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","ODS","ReQL","ReQLSuspense","WATimeUtils","createOptimisticTextSlideMessage","gkx","isMWBumpMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=(s||(s=o("react"))).useContext;async function p(e,t,n){n!=null&&r("gkx")("23995")&&await r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(d||(d=o("I64"))).minus_one,tags:t})}function _(t){var n=t.authorityLevel,a=t.disableMarkRead,l=t.ephemeralDurationInSec,s=t.onOptimisticMessageCreation,_=t.skipUrlPreviewGen,f=t.threadKey,g=t.threadType,h=o("MWPActor.react").useActor(),y=m(o("MWPReplyContext.react").MWPReplyContext),C=y.reply,b=m(o("IGDReplyContext.react").IGDReplyContext),v=o("CometRelay").useRelayEnvironment(),S=r("useLSMessagingInitiatingSource")(),R=(e||(e=r("useReStore")))(),L=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),E=L.sideChatMainMessageId,k=o("ReQLSuspense").useFirst(function(){return(C==null?void 0:C.messageId)==null?o("ReQL").empty():o("ReQL").fromTableAscending(R.tables.messages.index("messageId")).getKeyRange(C.messageId)},[C==null?void 0:C.messageId,R.tables.messages],i.id+":149"),I=r("isMWBumpMessage")(k==null?void 0:k.replyType)?k==null?void 0:k.replySourceId:C==null?void 0:C.messageId,T=b==null?void 0:b.message.message_id;return o("Int64Hooks").useCallbackInt64(function(e,t){var i=t.accessibilityLabel,m=t.afterSend,y=t.attributionAppId,R=t.dataclassParams,L=t.dataTraceId,k=t.externalAttachmentUrl,D=t.hotEmojiSize,x=t.logSendPoint,$=t.mentionData,P=t.messageText,N=t.messageTypeParams,M=t.multitabEnv,w=t.optimisticAttachmentPreview,A=t.platformToken,F=t.pluginType,O=t.profileRanges,B=t.richTextFormatType,W=t.s2sInstanceKey,q=t.setupS2SLogging,U=t.source,V=t.sticker,H=t.traceSendMessageAPI,G=t.transaction;return z(G);async function z(t){var z=r("LSFactory")(t),j=r("gkx")("24135");await p(t,(d||(d=o("I64"))).to_string(f),L);var K=N.hasAttachment,Q=K===void 0?!1:K,X=N.hasGif,Y=X===void 0?!1:X,J=N.hasHotEmoji,Z=J===void 0?!1:J,ee=N.hasLinks,te=ee===void 0?!1:ee,ne=N.hasSticker,re=ne===void 0?!1:ne,oe=N.hasText,ae=oe===void 0?!1:oe,ie=await t.threads.get(f),le=te?o("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(ie):o("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(ie),se=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(t,C,function(){return Promise.resolve({openEb:le,pluginType:le?(u||(u=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):F})}),ue=se.openEb,ce=se.pluginType,de=await r("LSOptimisticSendMessageV2StoredProcedure")(z,{dataclassParams:R!=null?JSON.stringify(R):void 0,extraSendMessageParams:o("LSShape").ofRecord({attribution_app_id:y,calculate_denormalizations:!1,data_trace_id:L!=null?L:void 0,ephemeral_duration_in_sec:l,external_attachment_url:k,hot_emoji_size:D,initiating_source:S,is_exclusive_to_subthread:E!=null,mark_read:a===!0?!1:(d||(d=o("I64"))).ge(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),mention_data:$,multitab_env:M,openEb:ue,optimistic_attachment_preview:w,platform_token:A,plugin_type:ce,power_up_style:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),qpl_instance_key:W.toString(),reply_source_id:I!=null?I:T,reply_source_type:C!=null||b!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:C!=null||b!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:B,skip_url_preview_gen:_,source:U,sticker_id:V==null?void 0:V.stickerId,subthread_parent_message_id:E!=null?E:void 0,text_has_links:te&&j}),mailboxType:u.ofNumber(r("LSMailboxType").MESSENGER),metadataDataclass:JSON.stringify({media_accessibility_metadata:{alt_text:Y?i:null}}),senderId:h,text:P,threadKey:f,threadType:g});(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","optimistic_message_created");var me=de[0],pe=ie==null?void 0:ie.consistentThreadFbid;if(ie!=null&&(d||(d=o("I64"))).equal(ie.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&pe==null&&(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","consistent_thread_fbid_null_for_authoritative_thread"),pe!=null&&P!=null){x("create_igd_relay_optimistic_message");var _e=o("WATimeUtils").millisTime(),fe=r("createOptimisticTextSlideMessage")({offlineThreadingId:me,optimisticMessageId:"mid.$"+me,repliedToMessageId:T,senderFbid:(d||(d=o("I64"))).to_string(h),text:P,threadFbid:d.to_string(pe),timestampMs:_e.toString()});r("IGDWriteOptimisticRelayMessage")(v,fe),(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","igd_relay_optimistic_message_created")}return x("create_optimistic_message_end"),o("MWPSendMessageLogger").log(e,f,g,h,void 0,[],U,r("MessagingAttachmentType").NONE,C!=null||b!=null,ce,le,l),(!Q||Y||re||Z)&&(q(me),H.addAnnotationBoolean("is_instamadillo_ttlc",le&&ue===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(W,{bool:{is_instamadillo_ttlc:le&&ue===!0}})),s!=null&&s({TAG:0,hasHotEmoji:Z,hasLink:te,hasMention:O!=null&&O.length>0,isGIF:Y,isReply:!!(C&&C.messageId!==""),isSticker:re,isText:ae,offlineThreadingId:de[0]}),m!=null&&await m(G),de}},[f,C,l,S,E,a,n,I,T,b,_,h,g,s,v])}l.default=_}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.disableMarkRead,n=e.ephemeralDurationInSec,o=e.onOptimisticMessageCreation,a=e.skipUrlPreviewGen,i=e.thread;return r("useMWV2SendOpenMessageImplShared")({authorityLevel:i.authorityLevel,disableMarkRead:t,ephemeralDurationInSec:n,onOptimisticMessageCreation:o,skipUrlPreviewGen:a,threadKey:i.threadKey,threadType:i.threadType})}l.default=e}),98);
__d("useMWV2SendOpenStagedMedia",["CometRelay","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMsgMediaTypeLogUtils","MWPActor.react","MWPComposerMediaUploadUtil","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","MessengerWebUXLogger","WATimeUtils","createOptimisticImageSlideMessage","createOptimisticVideoSlideMessage","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i){var l=o("CometRelay").useRelayEnvironment(),u=o("MWPActor.react").useActor(),d=r("useIGDReplyOnLS")(),m=r("useLSMessagingInitiatingSource")(),p=o("LSThreadBitOffset").has(40,a),_=r("MessengerWebUXLogger").useInteractionLogger();return o("Int64Hooks").useCallbackInt64(async function(f,g){var h=g.isFirstMessage,y=h===void 0?!1:h,C=g.isFirstMessageText,b=g.mediaStagings,v=g.metadataDataclass,S=g.pluginType,R=g.s2sInstanceKey,L=g.sendFirstMessageSeparately,E=L===void 0?!1:L,k=g.setupS2SLogging,I=g.source,T=g.traceSendMessageAPI,D=g.transaction;if(b.length!==0){var x=!1;if(b.length===1){var $=b[0];(e||(e=o("I64"))).to_int32($.attachmentType)===r("MessagingAttachmentType").IMAGE?x=o("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(a):(e||(e=o("I64"))).to_int32($.attachmentType)===r("MessagingAttachmentType").VIDEO&&(x=o("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(a))}for(var P=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(D,d,function(){return Promise.resolve({openEb:x,pluginType:x?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):S})}),N=P.openEb,M=P.pluginType,w=b[0],A=o("MessagingLoggingUtils").convertI64ToAttachmentType(w.attachmentType),F=o("MWPComposerMediaUploadUtil").createPartitionedAttachments(b,p,i),O=!0,B=0;B<F.length;B++)if(!y||!E||B===0&&y&&!C){var W=F[B],q=await r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(r("LSFactory")(D),{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray(W.map(o("LSShape").ofRecord)),ephemeral_duration_in_sec:t,external_attachment_url:void 0,initiating_source:m,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:M,reply_source_id:d==null?void 0:d.messageId,reply_source_type:d!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:d!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:I}),senderId:u,threadKey:a.threadKey,threadType:a.threadType}),U=q[0],V=a==null?void 0:a.consistentThreadFbid;if(V!=null)for(var H of W){var G=null,z=o("WATimeUtils").millisTime(),j=(s||(s=o("LSIntEnum"))).unwrapIntEnum(H.attachment_type),K={offlineThreadingId:U,optimisticMessageId:"mid.$"+U,repliedToMessageId:d==null?void 0:d.messageId,senderFbid:(e||(e=o("I64"))).to_string(u),threadFbid:e.to_string(V),timestampMs:z.toString()};if(j===r("MessagingAttachmentType").IMAGE){var Q,X,Y;G=r("createOptimisticImageSlideMessage")(babelHelpers.extends({},K,{image:{height:(e||(e=o("I64"))).to_float((Q=H.preview_height)!=null?Q:(e||(e=o("I64"))).zero),url:(X=H.preview_url)!=null?X:"",width:e.to_float((Y=H.preview_width)!=null?Y:(e||(e=o("I64"))).zero)}}))}else if(j===r("MessagingAttachmentType").VIDEO){var J,Z,ee;G=r("createOptimisticVideoSlideMessage")(babelHelpers.extends({},K,{video:{height:(e||(e=o("I64"))).to_float((J=H.preview_height)!=null?J:(e||(e=o("I64"))).zero),url:(Z=H.preview_url)!=null?Z:"",width:e.to_float((ee=H.preview_width)!=null?ee:(e||(e=o("I64"))).zero)}}))}G&&r("IGDWriteOptimisticRelayMessage")(l,G)}if(B===0&&(k(U),T.addAnnotationBoolean("is_instamadillo_ttlc",x&&N===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(R,{bool:{is_instamadillo_ttlc:x&&N===!0}})),await D.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:m,markThreadRead:!1,messageId:void 0,metadataDataclass:v,offlineThreadingId:U,openEb:N,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(e||(e=o("I64"))).of_string(U),threadAttributionSource:I,threadKey:a.threadKey}),n==null||n({TAG:2,attachmentType:c(W),numberOfAttachments:W.length,offlineThreadingId:U}),M!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(M)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO)await r("issueSendInstamadilloMediaMessage")(D,W,U);else{var te=await r("issueLSMediaSendJobs")(D,a.threadKey,U,W,b);O=O&&te.sentWithAllFilesUploaded}o("MWPSendMessageLogger").log(f,a.threadKey,a.threadType,u,U,W.map(function(e){return e.attachment_fbid}),I,A,d!=null,M,x,t)}p===!1&&(_==null||_({eventName:"media_collection_message_sent"}));var ne=(e||(e=o("I64"))).to_string(a.threadKey),re=o("LSMessagingThreadTypeUtil").isGroup(a.threadType)?[ne,null]:[null,ne],oe=re[0],ae=re[1];r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:O?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:ae,thread_fbid:oe}})}},[d,p,i,a,t,m,u,n,l,_])}function c(e){if(e.length===0)return o("MWMsgMediaTypeLogUtils").AttachmentType.None;var t=e[0].playable_url_mime_type;return t==null?o("MWMsgMediaTypeLogUtils").AttachmentType.None:t.indexOf("image")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Image:t.indexOf("video")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Video:t.indexOf("application")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.File:o("MWMsgMediaTypeLogUtils").AttachmentType.None}l.default=u}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MessagingLoggingUtils","OfflineThreadingId","RelayHooks","WATimeUtils","createOptimisticAudioSlideMessage","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n,r,a){n!=null&&await o("MWMediaTraceHandler").logMediaSendStart(t,n,r,(e||(e=o("I64"))).of_int32(a))}function c(t){var n=t.entryPoint,a=t.ephemeralDurationInSec,i=t.onOptimisticMessageCreation,l=t.onUploadFailure,c=t.onUploadStart,d=t.onUploadSuccess,m=t.sendMessageLogger,p=t.skipUrlPreviewGen,_=t.threadKey,f=t.threadType,g=o("MWPActor.react").useActor(),h=r("useLSMessagingInitiatingSource")(),y=o("RelayHooks").useRelayEnvironment(),C=r("useIGDReplyOnLS")();return o("Int64Hooks").useCallbackInt64(async function(t,b){var v=b.dataTraceId,S=b.pluginType,R=b.s2sInstanceKey,L=b.setupS2SLogging,E=b.source,k=b.traceSendMessageAPI,I=b.transaction,T=b.voiceClip,D=r("LSFactory")(I),x=o("OfflineThreadingId").createOfflineThreadingID(),$=o("MWPComposerMediaUploadUtil").getAudioAttachment(x,T.file,T.duration,T.waveformData);await u(I,v,(e||(e=o("I64"))).one,2);var P=await I.threads.get(_),N=o("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(P),M=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(I,C,function(){return Promise.resolve({openEb:N,pluginType:N?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):S})}),w=M.openEb,A=M.pluginType,F=await r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(D,{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray([o("LSShape").ofRecord($)]),ephemeral_duration_in_sec:a,external_attachment_url:void 0,initiating_source:h,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:A,reply_source_id:C==null?void 0:C.messageId,reply_source_type:C!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:C!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:E}),senderId:g,threadKey:_,threadType:f}),O=F[0],B=P==null?void 0:P.consistentThreadFbid;if(B!=null){var W=o("WATimeUtils").millisTime(),q=r("createOptimisticAudioSlideMessage")({audioAttachment:{file:T.file,playableDurationMs:T.duration*1e3,waveformData:[].concat(T.waveformData.amplitudes)},offlineThreadingId:O,optimisticMessageId:"mid.$"+O,repliedToMessageId:C==null?void 0:C.messageId,senderFbid:(e||(e=o("I64"))).to_string(g),threadFbid:e.to_string(B),timestampMs:W.toString()});r("IGDWriteOptimisticRelayMessage")(y,q)}L(O),k.addAnnotationBoolean("is_instamadillo_ttlc",N&&w===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(R,{bool:{is_instamadillo_ttlc:N&&w===!0}}),await I.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:h,markThreadRead:!1,messageId:void 0,offlineThreadingId:O,openEb:w,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:p,taskId:e.of_string(O),threadAttributionSource:E,threadKey:_}),i!=null&&i({TAG:1,offlineThreadingId:O}),A!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(A)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO?await r("issueSendInstamadilloMediaMessage")(I,[$],O):await r("issueLSAudioMediaSendJob")(I,_,g,v,x,O,$,T,c,d,l,n),m(t,{actor:g,attachmentFbids:[$.attachment_fbid],attachmentType:o("MessagingLoggingUtils").convertI64ToAttachmentType($.attachment_type),hasReply:C!=null,isInstamadilloTTLC:w,key:_,offlineThreadingId:O,pluginType:A,source:E,type:f})},[_,C,a,h,g,f,p,i,m,y,c,d,l,n])}l.default=c}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.entryPoint,n=e.ephemeralDurationInSec,a=e.onOptimisticMessageCreation,i=e.onUploadFailure,l=e.onUploadStart,s=e.onUploadSuccess,u=e.skipUrlPreviewGen,c=e.thread,d=o("Int64Hooks").useCallbackInt64(function(e,t){var r=t.actor,a=t.attachmentFbids,i=t.attachmentType,l=t.hasReply,s=t.isInstamadilloTTLC,u=t.key,c=t.offlineThreadingId,d=t.pluginType,m=t.source,p=t.type;r!=null&&o("MWPSendMessageLogger").log(e,u,p,r,c,a,m,i,l,d,s,n)},[n]);return r("useMWV2SendOpenVoiceClipImplShared")({entryPoint:t,ephemeralDurationInSec:n,onOptimisticMessageCreation:a,onUploadFailure:i,onUploadStart:l,onUploadSuccess:s,sendMessageLogger:d,skipUrlPreviewGen:u,threadKey:c.threadKey,threadType:c.threadType})}l.default=e}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","react","sendToSentQPLLogger","useAsyncReStore","useEnabledForWorkchatOnly","useIGDReplyOnLS","useIsMessengerPWA","useMWLSDefaultThreadSourceWithResetBasedOnThreadType","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e){var t=e.disableMarkRead,n=e.entryPoint,a=e.ephemeralDurationInSec,l=e.isIGDW,d=e.onOptimisticMessageCreation,m=e.onUploadFailure,p=e.onUploadStart,_=e.onUploadSuccess,f=e.pluginType,g=e.skipUrlPreviewGen,h=e.thread,y=r("useAsyncReStore")(),C=r("useIsMessengerPWA")(),b=r("useIGDReplyOnLS")(),v=r("useMWLSDefaultThreadSourceWithResetBasedOnThreadType")(),S=r("useMWV2SendOpenVoiceClip")({entryPoint:n,ephemeralDurationInSec:a,onOptimisticMessageCreation:d,onUploadFailure:m,onUploadStart:p,onUploadSuccess:_,skipUrlPreviewGen:g,thread:h}),R=r("useMWV2SendOpenStagedMedia")(a,d,h,l),L=r("useMWV2SendOpenMessageImpl")({disableMarkRead:t!=null?t:!1,ephemeralDurationInSec:a,onOptimisticMessageCreation:d,skipUrlPreviewGen:g,thread:h}),E=o("LSMessagingThreadTypeUtil").isMessageRequest(h),k=r("useEnabledForWorkchatOnly")(),I=c(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),T=I.onMessageSendAttempt;return o("Int64Hooks").useCallbackInt64(async function(e,t,n,a,l,c,d,m,p,_,g,I,D,x,$,P,N,M,w,A){g===void 0&&(g=!1),I===void 0&&(I=!1);var F=!1;T==null||T(!0);function O(e){D.addMarkerPoint(e,"AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(x,e)}var B=v(h.threadKey),W=r("LSGenerateTraceId")(),q={contents:1},U=h.eventStartTimestampMs!=null,V=h.threadType,H=await y,G=r("MWV2SetupS2SLoggingShared")({db:H,isCommunityEvent:U,isFirstMessage:I,isMessageRequest:E,isWorkChat:k,s2sInstanceKey:x,sendFirstMessageSeparately:g,source:(s||(s=o("LSIntEnum"))).unwrapIntEnum(B),threadType:V,traceSendMessageAPI:D}),z=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(H.tables.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,h.threadKey)})),j=o("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers.extends({externalAttachmentUrl:c,hotEmojiSize:a,mediaStagings:z,messageText:e,sticker:n,threadType:h.threadType,voiceClip:m},b!=null?{reply:b}:{})),K=await o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:j,isPwa:C,source:s.unwrapIntEnum(B),thread:h}),Q=await o("MultipleTabsLogger").hasMultipleTabs();return H.runInTransaction(async function(r){if(o("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(D,j,h),o("sendToSentQPLLogger").addSendToSentAnnotations(x,K),m!=null){(g===!1||I===!0)&&await S(H,{dataTraceId:W,pluginType:f,s2sInstanceKey:x,setupS2SLogging:G,source:B,traceSendMessageAPI:D,transaction:r,voiceClip:m});return}var i=j.hasGif,s=i===void 0?!1:i,y=j.hasHotEmoji,C=y===void 0?!1:y,b=j.hasSticker,v=b===void 0?!1:b,E=j.hasText,k=E===void 0?!1:E;v||C?q.contents=4:s&&(q.contents=6);var T=t!=null?o("LSShape").ofRecord({mention_ids:t.map(function(e){return e.id}).join(","),mention_lengths:t.map(function(e){return String(e.length)}).join(","),mention_offsets:t.map(function(e){return String(e.offset)}).join(","),mention_types:t.length!==0?t.map(function(e){return e.type}).join(","):void 0}):void 0;if(O("create_optimistic_message_start"),k||v||C||s){if(F=!0,(g===!1||I===!0)&&(O("send_message_impl"),await L(H,{accessibilityLabel:A,afterSend:_,attributionAppId:l,dataclassParams:w,dataTraceId:W,externalAttachmentUrl:c,hotEmojiSize:a,logSendPoint:O,mentionData:T,messageText:e,messageTypeParams:j,multitabEnv:Q,optimisticAttachmentPreview:d,platformToken:p,pluginType:f,profileRanges:t,richTextFormatType:P,s2sInstanceKey:x,setupS2SLogging:G,source:B,sticker:n,traceSendMessageAPI:D,transaction:r}),g===!0)){O("send_first_message_separately_return");return}}else _!=null&&await _(r);!v&&!s&&!C&&await R(H,{isFirstMessage:I,isFirstMessageText:F,mediaStagings:await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(r.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,h.threadKey)})),pluginType:f,s2sInstanceKey:x,sendFirstMessageSeparately:g,setupS2SLogging:G,source:B,traceSendMessageAPI:D,transaction:r})},"readwrite","ui",void 0,i.id+":250")},[T,v,h,y,E,k,b,C,S,f,L,R])}l.default=d}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDReplyContext.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactListConversionAttributionStore","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","MessengerWebUXLogger","ReQL","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useCometRouteTracePolicy","useIGDChatTabsMessagingSource.react","useMWLSAcceptMessageRequest","useMWV2SendOpenMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useContext,m=c.useMemo;function p(e){var t=e.afterSendMessage,n=e.checkWAStorageForLogging,a=e.disableMarkRead,i=e.entryPoint,l=e.ephemeralDurationInSec,c=e.isIGDW,p=e.onOptimisticMessageCreation,_=e.onUploadFailure,f=e.onUploadStart,g=e.onUploadSuccess,h=e.pluginType,y=e.skipUrlPreviewGen,C=e.thread,b=o("MWPActor.react").useActor(),v=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(C.threadKey,C.threadType),S=d(o("MWPReplyContext.react").MWPReplyContext),R=S.clearReply,L=d(o("IGDReplyContext.react").IGDReplySetterContext),E=L.clearReply,k=C.threadSubtype,I=m(function(){return{is_community_event:(C.eventStartTimestampMs!=null).toString(),is_cutover:"false",is_secure:"false",sender_id:c===!0?(s||(s=o("I64"))).to_string(b):null,thread_id:(s||(s=o("I64"))).to_string(C.threadKey),thread_subtype:k!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(k)?(s||(s=o("I64"))).to_string(k):"",thread_type:s.to_string(C.threadType)}},[b,c,C.eventStartTimestampMs,C.threadKey,C.threadType,k]),T=r("useMWLSAcceptMessageRequest")(C.threadKey),D=r("useCometInteractionTracing")(r("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,I),x=r("useMWV2SendOpenMessage")({disableMarkRead:a,entryPoint:i,ephemeralDurationInSec:l,isIGDW:c,onOptimisticMessageCreation:p,onUploadFailure:_,onUploadStart:f,onUploadSuccess:g,pluginType:h,skipUrlPreviewGen:y,thread:C}),$=r("MessengerWebUXLogger").useInteractionLogger(),P=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),N=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),M=r("useIGDChatTabsMessagingSource.react")(C.threadKey),w=r("useCometRouteTracePolicy")();return o("Int64Hooks").useCallbackInt64(function(e,a,i,l,d,m,p,_,f,g,h,y,S,L,A,F,O,B){h===void 0&&(h=!1),y===void 0&&(y=!1);var W=o("LSMessagingThreadTypeUtil").isMessageRequest(C);if(c===!0){var q={displayContext:N!=null?N:"UNKNOWN",isMessageRequest:String(W),thread_type:(s||(s=o("I64"))).to_string(C.threadType),threadSubtype:k!=null?(s||(s=o("I64"))).to_string(k):"UNKNOWN",tracePolicy:w},U=N==="ChatTab"&&M!=null?babelHelpers.extends({},q,{messaging_source:String(M)}):babelHelpers.extends({},q);$==null||$({eventName:"send_message",extraData:U,flowInstanceId:P})}D(function(c){var S,k=o("sendToSentQPLLogger").markSendToSentStart(n);o("sendToSentQPLLogger").addSendToSentAnnotations(k,{int:{message_text_length_int:(S=e==null?void 0:e.length)!=null?S:0},string:I}),r("promiseDone")(x(e,a,i,l,d,m,p,_,f,async function(e){var t;if(g==null||g(),!!o("LSMessagingThreadTypeUtil").isOneToOne(C.threadType)){var n=(t=await o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.participants,[]).getKeyRange(C.threadKey),o("ReQL").fromTableAscending(e.contacts)).filter(function(e){var t=e[0],n=e[1];return!(s||(s=o("I64"))).equal(n.id,b)})))==null?void 0:t[1];n!=null&&((s||(s=o("I64"))).equal(n.contactViewerRelationship,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER))||await e.contacts.put(babelHelpers.extends({},n,{contactViewerRelationship:(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)})))}},h,y,c,k,void 0,L,A,F,O,B),function(){var e=o("LSContactListConversionAttributionStore").getAttribution(v);e!=null&&(e.surface.entry_point==="comet_home_sidebar"?o("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(e):e.surface.entry_point==="inbox_tray"&&o("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(e),o("LSContactListConversionAttributionStore").resetAttribution(v)),t(),R(C.threadKey,!1),E(),W&&(T(),o("MessageRequestsLog").logActionConfirmed(C,1))})})},[c,C,D,N,k,w,M,$,P,n,I,x,b,v,t,R,E,T])}l.default=p}),98);
__d("useReadOnlyFeatureLimitsOffMsys",["LSFeatureLimitsType","ServerTime","react-compiler-runtime","useFeatureLimitsOffMsys"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e=r("LSFeatureLimitsType")).READ_ONLY,e.GENERIC_READ_ONLY_BLOCK,e.MESSAGE_SEND,e.IG_HARMS_RESTRICT_MESSAGE_SEND];function u(e){var t=o("react-compiler-runtime").c(3),n=r("useFeatureLimitsOffMsys")(e),a=o("ServerTime").getMillis()/1e3,i;if(t[0]!==n){var l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=function(t){return s.includes(t.featureLimitType)&&t.expirationTimestampSeconds>a},t[2]=l):l=t[2],i=n.filter(l),t[0]=n,t[1]=i}else i=t[1];var u=i;return u}l.default=u}),98);